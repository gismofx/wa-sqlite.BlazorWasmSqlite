(()=>{"use strict";var t={77:(t,e,n)=>{t.exports=n.p+"f15c5abb5734f68d0037.wasm"},870:(t,e,n)=>{n.r(e),n.d(e,{Factory:()=>Factory,SQLITE_ABORT:()=>l,SQLITE_ACCESS_EXISTS:()=>Ee,SQLITE_ACCESS_READ:()=>we,SQLITE_ACCESS_READWRITE:()=>me,SQLITE_ALTER_TABLE:()=>ur,SQLITE_ANALYZE:()=>_r,SQLITE_ATTACH:()=>cr,SQLITE_AUTH:()=>D,SQLITE_BLOB:()=>cn,SQLITE_BUSY:()=>_,SQLITE_CANTOPEN:()=>L,SQLITE_CONSTRAINT:()=>C,SQLITE_CONSTRAINT_CHECK:()=>wt,SQLITE_CONSTRAINT_COMMITHOOK:()=>pt,SQLITE_CONSTRAINT_FOREIGNKEY:()=>Tt,SQLITE_CONSTRAINT_FUNCTION:()=>St,SQLITE_CONSTRAINT_NOTNULL:()=>yt,SQLITE_CONSTRAINT_PINNED:()=>It,SQLITE_CONSTRAINT_PRIMARYKEY:()=>gt,SQLITE_CONSTRAINT_ROWID:()=>vt,SQLITE_CONSTRAINT_TRIGGER:()=>Lt,SQLITE_CONSTRAINT_UNIQUE:()=>Rt,SQLITE_CONSTRAINT_VTAB:()=>At,SQLITE_COPY:()=>Er,SQLITE_CORRUPT:()=>y,SQLITE_CREATE_INDEX:()=>Mn,SQLITE_CREATE_TABLE:()=>Fn,SQLITE_CREATE_TEMP_INDEX:()=>Un,SQLITE_CREATE_TEMP_TABLE:()=>Bn,SQLITE_CREATE_TEMP_TRIGGER:()=>Hn,SQLITE_CREATE_TEMP_VIEW:()=>Vn,SQLITE_CREATE_TRIGGER:()=>zn,SQLITE_CREATE_VIEW:()=>Wn,SQLITE_CREATE_VTABLE:()=>fr,SQLITE_DELETE:()=>Kn,SQLITE_DENY:()=>wr,SQLITE_DETACH:()=>sr,SQLITE_DETERMINISTIC:()=>qn,SQLITE_DIRECTONLY:()=>Cn,SQLITE_DONE:()=>W,SQLITE_DROP_INDEX:()=>jn,SQLITE_DROP_TABLE:()=>Xn,SQLITE_DROP_TEMP_INDEX:()=>$n,SQLITE_DROP_TEMP_TABLE:()=>Gn,SQLITE_DROP_TEMP_TRIGGER:()=>Yn,SQLITE_DROP_TEMP_VIEW:()=>Zn,SQLITE_DROP_TRIGGER:()=>Jn,SQLITE_DROP_VIEW:()=>tr,SQLITE_DROP_VTABLE:()=>br,SQLITE_EMPTY:()=>N,SQLITE_ERROR:()=>i,SQLITE_FCNTL_BEGIN_ATOMIC_WRITE:()=>Xe,SQLITE_FCNTL_BUSYHANDLER:()=>Qe,SQLITE_FCNTL_CHUNK_SIZE:()=>ge,SQLITE_FCNTL_CKPT_DONE:()=>tn,SQLITE_FCNTL_CKPT_START:()=>nn,SQLITE_FCNTL_COMMIT_ATOMIC_WRITE:()=>$e,SQLITE_FCNTL_COMMIT_PHASETWO:()=>Fe,SQLITE_FCNTL_DATA_VERSION:()=>Ze,SQLITE_FCNTL_FILE_POINTER:()=>ve,SQLITE_FCNTL_GET_LOCKPROXYFILE:()=>Te,SQLITE_FCNTL_HAS_MOVED:()=>De,SQLITE_FCNTL_JOURNAL_POINTER:()=>We,SQLITE_FCNTL_LAST_ERRNO:()=>ye,SQLITE_FCNTL_LOCKSTATE:()=>pe,SQLITE_FCNTL_LOCK_TIMEOUT:()=>Ye,SQLITE_FCNTL_MMAP_SIZE:()=>Pe,SQLITE_FCNTL_OVERWRITE:()=>Ne,SQLITE_FCNTL_PDB:()=>je,SQLITE_FCNTL_PERSIST_WAL:()=>Ae,SQLITE_FCNTL_POWERSAFE_OVERWRITE:()=>qe,SQLITE_FCNTL_PRAGMA:()=>Ce,SQLITE_FCNTL_RBU:()=>Ve,SQLITE_FCNTL_RESERVE_BYTES:()=>en,SQLITE_FCNTL_ROLLBACK_ATOMIC_WRITE:()=>Ge,SQLITE_FCNTL_SET_LOCKPROXYFILE:()=>Se,SQLITE_FCNTL_SIZE_HINT:()=>Ie,SQLITE_FCNTL_SIZE_LIMIT:()=>Je,SQLITE_FCNTL_SYNC:()=>Me,SQLITE_FCNTL_SYNC_OMITTED:()=>Le,SQLITE_FCNTL_TEMPFILENAME:()=>xe,SQLITE_FCNTL_TRACE:()=>ke,SQLITE_FCNTL_VFSNAME:()=>Oe,SQLITE_FCNTL_VFS_POINTER:()=>ze,SQLITE_FCNTL_WAL_BLOCK:()=>Be,SQLITE_FCNTL_WIN32_AV_RETRY:()=>Re,SQLITE_FCNTL_WIN32_GET_HANDLE:()=>Ke,SQLITE_FCNTL_WIN32_SET_HANDLE:()=>Ue,SQLITE_FCNTL_ZIPVFS:()=>He,SQLITE_FLOAT:()=>on,SQLITE_FORMAT:()=>F,SQLITE_FULL:()=>v,SQLITE_FUNCTION:()=>dr,SQLITE_IGNORE:()=>pr,SQLITE_INDEX_CONSTRAINT_EQ:()=>hn,SQLITE_INDEX_CONSTRAINT_FUNCTION:()=>Nn,SQLITE_INDEX_CONSTRAINT_GE:()=>pn,SQLITE_INDEX_CONSTRAINT_GLOB:()=>yn,SQLITE_INDEX_CONSTRAINT_GT:()=>En,SQLITE_INDEX_CONSTRAINT_IS:()=>An,SQLITE_INDEX_CONSTRAINT_ISNOT:()=>vn,SQLITE_INDEX_CONSTRAINT_ISNOTNULL:()=>Ln,SQLITE_INDEX_CONSTRAINT_ISNULL:()=>Rn,SQLITE_INDEX_CONSTRAINT_LE:()=>mn,SQLITE_INDEX_CONSTRAINT_LIKE:()=>Sn,SQLITE_INDEX_CONSTRAINT_LT:()=>wn,SQLITE_INDEX_CONSTRAINT_MATCH:()=>Tn,SQLITE_INDEX_CONSTRAINT_NE:()=>gn,SQLITE_INDEX_CONSTRAINT_REGEXP:()=>In,SQLITE_INDEX_SCAN_UNIQUE:()=>On,SQLITE_INNOCUOUS:()=>xn,SQLITE_INSERT:()=>er,SQLITE_INTEGER:()=>rn,SQLITE_INTERNAL:()=>o,SQLITE_INTERRUPT:()=>w,SQLITE_IOCAP_ATOMIC:()=>ee,SQLITE_IOCAP_ATOMIC16K:()=>ce,SQLITE_IOCAP_ATOMIC1K:()=>re,SQLITE_IOCAP_ATOMIC2K:()=>ie,SQLITE_IOCAP_ATOMIC32K:()=>se,SQLITE_IOCAP_ATOMIC4K:()=>oe,SQLITE_IOCAP_ATOMIC512:()=>ne,SQLITE_IOCAP_ATOMIC64K:()=>ue,SQLITE_IOCAP_ATOMIC8K:()=>ae,SQLITE_IOCAP_BATCH_ATOMIC:()=>he,SQLITE_IOCAP_IMMUTABLE:()=>de,SQLITE_IOCAP_POWERSAFE_OVERWRITE:()=>be,SQLITE_IOCAP_SAFE_APPEND:()=>le,SQLITE_IOCAP_SEQUENTIAL:()=>_e,SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN:()=>fe,SQLITE_IOERR:()=>p,SQLITE_IOERR_ACCESS:()=>j,SQLITE_IOERR_BEGIN_ATOMIC:()=>ht,SQLITE_IOERR_CHECKRESERVEDLOCK:()=>X,SQLITE_IOERR_CLOSE:()=>$,SQLITE_IOERR_COMMIT_ATOMIC:()=>Et,SQLITE_IOERR_DATA:()=>G,SQLITE_IOERR_DELETE:()=>Y,SQLITE_IOERR_DELETE_NOENT:()=>tt,SQLITE_IOERR_DIR_FSYNC:()=>et,SQLITE_IOERR_FSTAT:()=>nt,SQLITE_IOERR_FSYNC:()=>rt,SQLITE_IOERR_GETTEMPPATH:()=>it,SQLITE_IOERR_LOCK:()=>ot,SQLITE_IOERR_NOMEM:()=>at,SQLITE_IOERR_RDLOCK:()=>st,SQLITE_IOERR_READ:()=>ct,SQLITE_IOERR_ROLLBACK_ATOMIC:()=>mt,SQLITE_IOERR_SEEK:()=>ut,SQLITE_IOERR_SHORT_READ:()=>lt,SQLITE_IOERR_TRUNCATE:()=>_t,SQLITE_IOERR_UNLOCK:()=>ft,SQLITE_IOERR_VNODE:()=>bt,SQLITE_IOERR_WRITE:()=>dt,SQLITE_LIMIT_ATTACHED:()=>Rr,SQLITE_LIMIT_COLUMN:()=>yr,SQLITE_LIMIT_COMPOUND_SELECT:()=>gr,SQLITE_LIMIT_EXPR_DEPTH:()=>Ir,SQLITE_LIMIT_FUNCTION_ARG:()=>Lr,SQLITE_LIMIT_LENGTH:()=>Tr,SQLITE_LIMIT_LIKE_PATTERN_LENGTH:()=>Ar,SQLITE_LIMIT_SQL_LENGTH:()=>Sr,SQLITE_LIMIT_TRIGGER_DEPTH:()=>Or,SQLITE_LIMIT_VARIABLE_NUMBER:()=>Nr,SQLITE_LIMIT_VDBE_OP:()=>vr,SQLITE_LIMIT_WORKER_THREADS:()=>qr,SQLITE_LOCKED:()=>f,SQLITE_LOCK_EXCLUSIVE:()=>te,SQLITE_LOCK_NONE:()=>Gt,SQLITE_LOCK_PENDING:()=>Jt,SQLITE_LOCK_RESERVED:()=>Zt,SQLITE_LOCK_SHARED:()=>Yt,SQLITE_MISMATCH:()=>Q,SQLITE_MISUSE:()=>x,SQLITE_NOLFS:()=>k,SQLITE_NOMEM:()=>E,SQLITE_NOTADB:()=>B,SQLITE_NOTFOUND:()=>g,SQLITE_NOTICE:()=>H,SQLITE_NULL:()=>sn,SQLITE_OK:()=>r,SQLITE_OPEN_AUTOPROXY:()=>xt,SQLITE_OPEN_CREATE:()=>qt,SQLITE_OPEN_DELETEONCLOSE:()=>Ct,SQLITE_OPEN_EXCLUSIVE:()=>Qt,SQLITE_OPEN_FULLMUTEX:()=>Wt,SQLITE_OPEN_MAIN_DB:()=>Dt,SQLITE_OPEN_MAIN_JOURNAL:()=>Ut,SQLITE_OPEN_MEMORY:()=>kt,SQLITE_OPEN_NOFOLLOW:()=>$t,SQLITE_OPEN_NOMUTEX:()=>zt,SQLITE_OPEN_PRIVATECACHE:()=>jt,SQLITE_OPEN_READONLY:()=>Nt,SQLITE_OPEN_READWRITE:()=>Ot,SQLITE_OPEN_SHAREDCACHE:()=>Kt,SQLITE_OPEN_SUBJOURNAL:()=>Ht,SQLITE_OPEN_SUPER_JOURNAL:()=>Vt,SQLITE_OPEN_TEMP_DB:()=>Mt,SQLITE_OPEN_TEMP_JOURNAL:()=>Bt,SQLITE_OPEN_TRANSIENT_DB:()=>Ft,SQLITE_OPEN_URI:()=>Pt,SQLITE_OPEN_WAL:()=>Xt,SQLITE_PERM:()=>s,SQLITE_PRAGMA:()=>nr,SQLITE_PREPARE_NORMALIZED:()=>Qr,SQLITE_PREPARE_NO_VTAB:()=>xr,SQLITE_PREPARE_PERSISTENT:()=>Cr,SQLITE_PROTOCOL:()=>A,SQLITE_RANGE:()=>U,SQLITE_READ:()=>rr,SQLITE_READONLY:()=>m,SQLITE_RECURSIVE:()=>mr,SQLITE_REINDEX:()=>lr,SQLITE_ROW:()=>z,SQLITE_SAVEPOINT:()=>hr,SQLITE_SCHEMA:()=>O,SQLITE_SELECT:()=>ir,SQLITE_STATIC:()=>un,SQLITE_SUBTYPE:()=>Qn,SQLITE_SYNC_DATAONLY:()=>Dn,SQLITE_SYNC_FULL:()=>kn,SQLITE_SYNC_NORMAL:()=>Pn,SQLITE_TEXT:()=>an,SQLITE_TOOBIG:()=>q,SQLITE_TRANSACTION:()=>or,SQLITE_TRANSIENT:()=>ln,SQLITE_UPDATE:()=>ar,SQLITE_UTF16:()=>dn,SQLITE_UTF16BE:()=>bn,SQLITE_UTF16LE:()=>fn,SQLITE_UTF8:()=>_n,SQLITE_WARNING:()=>V,SQLiteError:()=>SQLiteError});const r=0,i=1,o=2,s=3,l=4,_=5,f=6,E=7,m=8,w=9,p=10,y=11,g=12,v=13,L=14,A=15,N=16,O=17,q=18,C=19,Q=20,x=21,k=22,D=23,F=24,U=25,B=26,H=27,V=28,z=100,W=101,j=3338,X=3594,$=4106,G=8202,Y=2570,tt=5898,et=1290,nt=1802,rt=1034,it=6410,ot=3850,at=3082,ct=266,st=2314,ut=5642,lt=522,_t=1546,ft=2058,bt=6922,dt=778,ht=7434,Et=7690,mt=7946,wt=275,pt=531,Tt=787,St=1043,yt=1299,It=2835,gt=1555,vt=2579,Lt=1811,Rt=2067,At=2323,Nt=1,Ot=2,qt=4,Ct=8,Qt=16,xt=32,Pt=64,kt=128,Dt=256,Mt=512,Ft=1024,Ut=2048,Bt=4096,Ht=8192,Vt=16384,zt=32768,Wt=65536,Kt=131072,jt=262144,Xt=524288,$t=16777216,Gt=0,Yt=1,Zt=2,Jt=3,te=4,ee=1,ne=2,re=4,ie=8,oe=16,ae=32,ce=64,se=128,ue=256,le=512,_e=1024,fe=2048,be=4096,de=8192,he=16384,Ee=0,me=1,we=2,pe=1,Te=2,Se=3,ye=4,Ie=5,ge=6,ve=7,Le=8,Re=9,Ae=10,Ne=11,Oe=12,qe=13,Ce=14,Qe=15,xe=16,Pe=18,ke=19,De=20,Me=21,Fe=22,Ue=23,Be=24,He=25,Ve=26,ze=27,We=28,Ke=29,je=30,Xe=31,$e=32,Ge=33,Ye=34,Ze=35,Je=36,tn=37,en=38,nn=39,rn=1,on=2,an=3,cn=4,sn=5,un=0,ln=-1,_n=1,fn=2,bn=3,dn=4,hn=2,En=4,mn=8,wn=16,pn=32,Tn=64,Sn=65,yn=66,In=67,gn=68,vn=69,Ln=70,Rn=71,An=72,Nn=150,On=1,qn=2048,Cn=524288,Qn=1048576,xn=2097152,Pn=2,kn=3,Dn=16,Mn=1,Fn=2,Un=3,Bn=4,Hn=5,Vn=6,zn=7,Wn=8,Kn=9,jn=10,Xn=11,$n=12,Gn=13,Yn=14,Zn=15,Jn=16,tr=17,er=18,nr=19,rr=20,ir=21,or=22,ar=23,cr=24,sr=25,ur=26,lr=27,_r=28,fr=29,br=30,dr=31,hr=32,Er=0,mr=33,wr=1,pr=2,Tr=0,Sr=1,yr=2,Ir=3,gr=4,vr=5,Lr=6,Rr=7,Ar=8,Nr=9,Or=10,qr=11,Cr=1,Qr=2,xr=4,Pr=0x7fffffffffffffffn,kr=-0x8000000000000000n,Dr=Object.getPrototypeOf((async function(){})).constructor;class SQLiteError extends Error{constructor(t,e){super(t),this.code=e}}const Mr=!0;function Factory(t){const e={};t.retryOps=[];const n=t._getSqliteFree(),i=t._malloc(8),o=[i,i+4];function createUTF8(e){if("string"!=typeof e)return 0;const n=(new TextEncoder).encode(e),r=t._sqlite3_malloc(n.byteLength+1);return t.HEAPU8.set(n,r),t.HEAPU8[r+n.byteLength]=0,r}function cvt32x2ToBigInt(t,e){return BigInt(e)<<32n|0xffffffffn&BigInt(t)}const s=function(){const t=BigInt(Number.MAX_SAFE_INTEGER)>>32n,e=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(n,r){return r>t||r<e?cvt32x2ToBigInt(n,r):4294967296*r+(2147483647&n)-(2147483648&n)}}(),l=new Set;function verifyDatabase(t){if(!l.has(t))throw new SQLiteError("not a database",x)}const _=new Map;function verifyStatement(t){if(!_.has(t))throw new SQLiteError("not a statement",x)}function check(e,n,i=null,o=[r]){if(o.includes(n))return n;const s=i?t.ccall("sqlite3_errmsg","string",["number"],[i]):e;throw new SQLiteError(s,n)}async function retry(e){let n;do{t.retryOps.length&&(await Promise.all(t.retryOps),t.retryOps=[]),n=await e()}while(n&&t.retryOps.length);return n}return e.bind_collection=function(t,n){verifyStatement(t);const i=Array.isArray(n),o=e.bind_parameter_count(t);for(let r=1;r<=o;++r){const o=n[i?r-1:e.bind_parameter_name(t,r)];void 0!==o&&e.bind(t,r,o)}return r},e.bind=function(t,n,r){switch(verifyStatement(t),typeof r){case"number":return r===(0|r)?e.bind_int(t,n,r):e.bind_double(t,n,r);case"string":return e.bind_text(t,n,r);default:return r instanceof Uint8Array||Array.isArray(r)?e.bind_blob(t,n,r):null===r?e.bind_null(t,n):"bigint"==typeof r?e.bind_int64(t,n,r):void 0===r?H:(console.warn("unknown binding converted to null",r),e.bind_null(t,n))}},e.bind_blob=function(){const e="sqlite3_bind_blob",r=t.cwrap(e,...decl("nnnnn:n"));return function(i,o,s){verifyStatement(i);const l=s.byteLength??s.length,f=t._sqlite3_malloc(l);t.HEAPU8.subarray(f).set(s);const E=r(i,o,f,l,n);return check(e,E,_.get(i))}}(),e.bind_parameter_count=function(){const e=t.cwrap("sqlite3_bind_parameter_count",...decl("n:n"));return function(t){verifyStatement(t);return e(t)}}(),e.bind_double=function(){const e="sqlite3_bind_double",n=t.cwrap(e,...decl("nnn:n"));return function(t,r,i){verifyStatement(t);const o=n(t,r,i);return check(e,o,_.get(t))}}(),e.bind_int=function(){const e="sqlite3_bind_int",n=t.cwrap(e,...decl("nnn:n"));return function(t,r,i){if(verifyStatement(t),i>2147483647||i<-2147483648)return U;const o=n(t,r,i);return check(e,o,_.get(t))}}(),e.bind_int64=function(){const e="sqlite3_bind_int64",n=t.cwrap(e,...decl("nnnn:n"));return function(t,r,i){if(verifyStatement(t),i>Pr||i<kr)return U;const o=i>>32n,s=n(t,r,Number(0xffffffffn&i),Number(o));return check(e,s,_.get(t))}}(),e.bind_null=function(){const e="sqlite3_bind_null",n=t.cwrap(e,...decl("nn:n"));return function(t,r){verifyStatement(t);const i=n(t,r);return check(e,i,_.get(t))}}(),e.bind_parameter_name=function(){const e=t.cwrap("sqlite3_bind_parameter_name",...decl("n:s"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.bind_text=function(){const e="sqlite3_bind_text",r=t.cwrap(e,...decl("nnnnn:n"));return function(t,i,o){verifyStatement(t);const s=createUTF8(o),l=r(t,i,s,-1,n);return check(e,l,_.get(t))}}(),e.changes=function(){const e=t.cwrap("sqlite3_changes",...decl("n:n"));return function(t){verifyDatabase(t);return e(t)}}(),e.close=function(){const e="sqlite3_close",n=t.cwrap(e,...decl("n:n"),{async:Mr});return async function(t){verifyDatabase(t);const r=await n(t);return l.delete(t),check(e,r,t)}}(),e.column=function(n,r){verifyStatement(n);const i=e.column_type(n,r);switch(i){case cn:return e.column_blob(n,r);case on:return e.column_double(n,r);case rn:const o=e.column_int(n,r),l=t.getTempRet0();return s(o,l);case sn:return null;case an:return e.column_text(n,r);default:throw new SQLiteError("unknown type",i)}},e.column_blob=function(){const n=t.cwrap("sqlite3_column_blob",...decl("nn:n"));return function(r,i){verifyStatement(r);const o=e.column_bytes(r,i),s=n(r,i);return t.HEAPU8.subarray(s,s+o)}}(),e.column_bytes=function(){const e=t.cwrap("sqlite3_column_bytes",...decl("nn:n"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_count=function(){const e=t.cwrap("sqlite3_column_count",...decl("n:n"));return function(t){verifyStatement(t);return e(t)}}(),e.column_double=function(){const e=t.cwrap("sqlite3_column_double",...decl("nn:n"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_int=function(){const e=t.cwrap("sqlite3_column_int64",...decl("nn:n"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_int64=function(){const e=t.cwrap("sqlite3_column_int64",...decl("nn:n"));return function(n,r){verifyStatement(n);return cvt32x2ToBigInt(e(n,r),t.getTempRet0())}}(),e.column_name=function(){const e=t.cwrap("sqlite3_column_name",...decl("nn:s"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_names=function(t){const n=[],r=e.column_count(t);for(let i=0;i<r;++i)n.push(e.column_name(t,i));return n},e.column_text=function(){const e=t.cwrap("sqlite3_column_text",...decl("nn:s"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_type=function(){const e=t.cwrap("sqlite3_column_type",...decl("nn:n"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.create_function=function(e,n,r,i,o,s,l,_){function adapt(e){return e instanceof Dr?async(n,r,i)=>e(n,t.HEAP32.subarray(i/4,i/4+r)):(n,r,i)=>e(n,t.HEAP32.subarray(i/4,i/4+r))}verifyDatabase(e);return check("sqlite3_create_function",t.create_function(e,n,r,i,o,s&&adapt(s),l&&adapt(l),_),e)},e.data_count=function(){const e=t.cwrap("sqlite3_data_count",...decl("n:n"));return function(t){verifyStatement(t);return e(t)}}(),e.exec=async function(t,n,i){for await(const r of e.statements(t,n)){let t;for(;await e.step(r)===z;)if(i){t=t??e.column_names(r);const n=e.row(r);await i(n,t)}}return r},e.finalize=function(){const e=t.cwrap("sqlite3_finalize",...decl("n:n"),{async:Mr});return async function(t){const n=await e(t);return _.delete(t),n}}(),e.get_autocommit=function(){const e=t.cwrap("sqlite3_get_autocommit",...decl("n:n"));return function(t){return e(t)}}(),e.libversion=function(){const e=t.cwrap("sqlite3_libversion",...decl(":s"));return function(){return e()}}(),e.libversion_number=function(){const e=t.cwrap("sqlite3_libversion_number",...decl(":n"));return function(){return e()}}(),e.limit=function(){const e=t.cwrap("sqlite3_limit",...decl("nnn:n"));return function(t,n,r){return e(t,n,r)}}(),e.open_v2=function(){const e="sqlite3_open_v2",n=t.cwrap(e,...decl("snnn:n"),{async:Mr});return async function(r,i,s){i=i||qt|Ot,s=createUTF8(s);try{const _=await retry((()=>n(r,o[0],i,s))),f=t.getValue(o[0],"*");return l.add(f),t.ccall("RegisterExtensionFunctions","void",["number"],[f]),check(e,_),f}finally{t._sqlite3_free(s)}}}(),e.progress_handler=function(e,n,r,i){verifyDatabase(e),t.progress_handler(e,n,r,i)},e.reset=function(){const e="sqlite3_reset",n=t.cwrap(e,...decl("n:n"),{async:Mr});return async function(t){verifyStatement(t);const r=await n(t);return check(e,r,_.get(t))}}(),e.result=function(t,n){switch(typeof n){case"number":n===(0|n)?e.result_int(t,n):e.result_double(t,n);break;case"string":e.result_text(t,n);break;default:if(n instanceof Uint8Array||Array.isArray(n))e.result_blob(t,n);else if(null===n)e.result_null(t);else{if("bigint"==typeof n)return e.result_int64(t,n);console.warn("unknown result converted to null",n),e.result_null(t)}}},e.result_blob=function(){const e=t.cwrap("sqlite3_result_blob",...decl("nnnn:n"));return function(r,i){const o=i.byteLength??i.length,s=t._sqlite3_malloc(o);t.HEAPU8.subarray(s).set(i),e(r,s,o,n)}}(),e.result_double=function(){const e=t.cwrap("sqlite3_result_double",...decl("nn:n"));return function(t,n){e(t,n)}}(),e.result_int=function(){const e=t.cwrap("sqlite3_result_int",...decl("nn:n"));return function(t,n){e(t,n)}}(),e.result_int64=function(){const e=t.cwrap("sqlite3_result_int64",...decl("nnn:n"));return function(t,n){if(n>Pr||n<kr)return U;const r=n>>32n;e(t,Number(0xffffffffn&n),Number(r))}}(),e.result_null=function(){const e=t.cwrap("sqlite3_result_null",...decl("n:n"));return function(t){e(t)}}(),e.result_text=function(){const e=t.cwrap("sqlite3_result_text",...decl("nnnn:n"));return function(t,r){const i=createUTF8(r);e(t,i,-1,n)}}(),e.row=function(n){const r=[],i=e.data_count(n);for(let o=0;o<i;++o){const i=e.column(n,o);r.push(i?.buffer===t.HEAPU8.buffer?i.slice():i)}return r},e.set_authorizer=function(e,n,r){function cvtArgs(e,n,r,i,o,s){return[e,n,t.UTF8ToString(r),t.UTF8ToString(i),t.UTF8ToString(o),t.UTF8ToString(s)]}verifyDatabase(e);return check("sqlite3_set_authorizer",t.set_authorizer(e,function adapt(t){return t instanceof Dr?async(e,n,r,i,o,s)=>t(cvtArgs(e,n,r,i,o,s)):(e,n,r,i,o,s)=>t(cvtArgs(e,n,r,i,o,s))}(n),r),e)},e.sql=function(){const e=t.cwrap("sqlite3_sql",...decl("n:s"));return function(t){verifyStatement(t);return e(t)}}(),e.statements=function(n,i,o={}){const s=t.cwrap("sqlite3_prepare_v3","number",["number","number","number","number","number","number"],{async:!0});return async function*(){const l=[];try{const f=(new TextEncoder).encode(i),E=f.byteLength-f.byteLength%4+12,m=t._sqlite3_malloc(E),w=m+f.byteLength+1;l.push((()=>t._sqlite3_free(m))),t.HEAPU8.set(f,m),t.HEAPU8[w-1]=0;const p=m+E-8,y=m+E-4;let g;function maybeFinalize(){g&&!o.unscoped&&e.finalize(g),g=0}l.push(maybeFinalize),t.setValue(y,m,"*");do{maybeFinalize();const v=t.getValue(y,"*"),L=await retry((()=>s(n,v,w-y,o.flags||0,p,y)));L!==r&&check("sqlite3_prepare_v3",L,n),g=t.getValue(p,"*"),g&&(_.set(g,n),yield g)}while(g)}finally{for(;l.length;)l.pop()()}}()},e.step=function(){const e="sqlite3_step",n=t.cwrap(e,...decl("n:n"),{async:Mr});return async function(t){verifyStatement(t);const r=await retry((()=>n(t)));return check(e,r,_.get(t),[z,W])}}(),e.value=function(n){const r=e.value_type(n);switch(r){case cn:return e.value_blob(n);case on:return e.value_double(n);case rn:const i=e.value_int(n),o=t.getTempRet0();return s(i,o);case sn:return null;case an:return e.value_text(n);default:throw new SQLiteError("unknown type",r)}},e.value_blob=function(){const n=t.cwrap("sqlite3_value_blob",...decl("n:n"));return function(r){const i=e.value_bytes(r),o=n(r);return t.HEAPU8.subarray(o,o+i)}}(),e.value_bytes=function(){const e=t.cwrap("sqlite3_value_bytes",...decl("n:n"));return function(t){return e(t)}}(),e.value_double=function(){const e=t.cwrap("sqlite3_value_double",...decl("n:n"));return function(t){return e(t)}}(),e.value_int=function(){const e=t.cwrap("sqlite3_value_int64",...decl("n:n"));return function(t){return e(t)}}(),e.value_int64=function(){const e=t.cwrap("sqlite3_value_int64",...decl("n:n"));return function(n){return cvt32x2ToBigInt(e(n),t.getTempRet0())}}(),e.value_text=function(){const e=t.cwrap("sqlite3_value_text",...decl("n:s"));return function(t){return e(t)}}(),e.value_type=function(){const e=t.cwrap("sqlite3_value_type",...decl("n:n"));return function(t){return e(t)}}(),e.vfs_register=function(e,n){return check("sqlite3_vfs_register",t.vfs_register(e,n))},e}function decl(t){const e=[],n=t.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":e.push("number");break;case"s":e.push("string");break;case"v":e.push(null)}const r=[];for(let t of n[1])switch(t){case"n":r.push("number");break;case"s":r.push("string")}return e.push(r),e}}},e={};function __webpack_require__(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=t,__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})(),__webpack_require__.b=document.baseURI||self.location.href;var n;const r=(n="file:///C:/Users/chadp/source/repos/wa-sqlite.BlazorWasmSqlite/wa-sqlite.BlazorWasmSqlite/NpmJS/node_modules/wa-sqlite/dist/wa-sqlite-async.mjs",function(t={}){var e,r,i=t;i.ready=new Promise(((t,n)=>{e=t,r=n}));var o,s=Object.assign({},i),l="./this.program",ea=(t,e)=>{throw e},_="object"==typeof window,f="function"==typeof importScripts,E="";(_||f)&&(f?E=self.location.href:"undefined"!=typeof document&&document.currentScript&&(E=document.currentScript.src),n&&(E=n),E=0!==E.indexOf("blob:")?E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):"",f&&(o=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}));var m,w=i.print||console.log.bind(console),p=i.printErr||console.error.bind(console);Object.assign(i,s),s=null,i.thisProgram&&(l=i.thisProgram),i.quit&&(ea=i.quit),i.wasmBinary&&(m=i.wasmBinary);var y=i.noExitRuntime||!0;"object"!=typeof WebAssembly&&u("no native wasm support detected");var g,v,L,A,N,O,q,C,Q,x=!1;function ra(){var t=g.buffer;i.HEAP8=L=new Int8Array(t),i.HEAP16=N=new Int16Array(t),i.HEAPU8=A=new Uint8Array(t),i.HEAPU16=new Uint16Array(t),i.HEAP32=O=new Int32Array(t),i.HEAPU32=q=new Uint32Array(t),i.HEAPF32=C=new Float32Array(t),i.HEAPF64=Q=new Float64Array(t)}var k=[],D=[],F=[],U=[],B=0;function xa(){var t=i.preRun.shift();k.unshift(t)}var H,V,z,W=0,j=null,X=null;function u(t){throw i.onAbort&&i.onAbort(t),p(t="Aborted("+t+")"),x=!0,v=1,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),r(t),t}function Aa(t){return t.startsWith("data:application/octet-stream;base64,")}if(i.locateFile){if(!Aa(H="wa-sqlite-async.wasm")){var $=H;H=i.locateFile?i.locateFile($,E):E+$}}else H=new URL(__webpack_require__(77),__webpack_require__.b).href;function Da(t){if(t==H&&m)return new Uint8Array(m);if(o)return o(t);throw"both async and sync fetching of the wasm failed"}function Fa(t,e,n){return function Ea(t){return m||!_&&!f||"function"!=typeof fetch?Promise.resolve().then((()=>Da(t))):fetch(t,{credentials:"same-origin"}).then((e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})).catch((()=>Da(t)))}(t).then((t=>WebAssembly.instantiate(t,e))).then((t=>t)).then(n,(t=>{p(`failed to asynchronously prepare wasm: ${t}`),u(t)}))}function Ha(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var Ia=t=>{for(;0<t.length;)t.shift()(i)};function I(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return L[0|t];case"i16":return N[t>>1];case"i32":return O[t>>2];case"i64":u("to do getValue(i64) use WASM_BIGINT");case"float":return C[t>>2];case"double":return Q[t>>3];case"*":return q[t>>2];default:u(`invalid type for getValue: ${e}`)}}function J(t,e,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":L[0|t]=e;break;case"i16":N[t>>1]=e;break;case"i32":O[t>>2]=e;break;case"i64":u("to do setValue(i64) use WASM_BIGINT");case"float":C[t>>2]=e;break;case"double":Q[t>>3]=e;break;case"*":q[t>>2]=e;break;default:u(`invalid type for setValue: ${n}`)}}var G="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,K=(t,e,n)=>{var r=e+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&G)return G.decode(t.subarray(e,n));for(r="";e<n;){var i=t[e++];if(128&i){var o=63&t[e++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|o);else{var s=63&t[e++];65536>(i=224==(240&i)?(15&i)<<12|o<<6|s:(7&i)<<18|o<<12|s<<6|63&t[e++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r},Ka=(t,e)=>{for(var n=0,r=t.length-1;0<=r;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n;n--)t.unshift("..");return t},M=t=>{var e="/"===t.charAt(0),n="/"===t.substr(-1);return(t=Ka(t.split("/").filter((t=>!!t)),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},La=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],t||e?(e&&(e=e.substr(0,e.length-1)),t+e):"."},Ma=t=>{if("/"===t)return"/";var e=(t=(t=M(t)).replace(/\/$/,"")).lastIndexOf("/");return-1===e?t:t.substr(e+1)},Oa=t=>(Oa=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return t=>crypto.getRandomValues(t);u("initRandomDevice")})())(t);function Pa(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){if("string"!=typeof(e=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return(e?"/":"")+(t=Ka(t.split("/").filter((t=>!!t)),!e).join("/"))||"."}var Y=[],Ra=t=>{for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e},Sa=(t,e,n,r)=>{if(!(0<r))return 0;var i=n;r=n+r-1;for(var o=0;o<t.length;++o){var s=t.charCodeAt(o);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++o)),127>=s){if(n>=r)break;e[n++]=s}else{if(2047>=s){if(n+1>=r)break;e[n++]=192|s>>6}else{if(65535>=s){if(n+2>=r)break;e[n++]=224|s>>12}else{if(n+3>=r)break;e[n++]=240|s>>18,e[n++]=128|s>>12&63}e[n++]=128|s>>6&63}e[n++]=128|63&s}}return e[n]=0,n-i},tt=[];function Ua(t,e){tt[t]={input:[],Tb:[],dc:e},Va(t,et)}var et={open(t){var e=tt[t.node.hc];if(!e)throw new _t(43);t.Ub=e,t.seekable=!1},close(t){t.Ub.dc.kc(t.Ub)},kc(t){t.Ub.dc.kc(t.Ub)},read(t,e,n,r){if(!t.Ub||!t.Ub.dc.zc)throw new _t(60);for(var i=0,o=0;o<r;o++){try{var s=t.Ub.dc.zc(t.Ub)}catch(t){throw new _t(29)}if(void 0===s&&0===i)throw new _t(6);if(null==s)break;i++,e[n+o]=s}return i&&(t.node.timestamp=Date.now()),i},write(t,e,n,r){if(!t.Ub||!t.Ub.dc.tc)throw new _t(60);try{for(var i=0;i<r;i++)t.Ub.dc.tc(t.Ub,e[n+i])}catch(t){throw new _t(29)}return r&&(t.node.timestamp=Date.now()),i}},nt={zc(){t:{if(!Y.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t){var e=null;break t}e=Array(Ra(t)+1),t=Sa(t,e,0,e.length),e.length=t,Y=e}e=Y.shift()}return e},tc(t,e){null===e||10===e?(w(K(t.Tb,0)),t.Tb=[]):0!=e&&t.Tb.push(e)},kc(t){t.Tb&&0<t.Tb.length&&(w(K(t.Tb,0)),t.Tb=[])},$c:()=>({Wc:25856,Yc:5,Vc:191,Xc:35387,Uc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ad:()=>0,bd:()=>[24,80]},rt={tc(t,e){null===e||10===e?(p(K(t.Tb,0)),t.Tb=[]):0!=e&&t.Tb.push(e)},kc(t){t.Tb&&0<t.Tb.length&&(p(K(t.Tb,0)),t.Tb=[])}};function Za(t,e){var n=t.Pb?t.Pb.length:0;n>=e||(e=Math.max(e,n*(1048576>n?2:1.125)>>>0),0!=n&&(e=Math.max(e,256)),n=t.Pb,t.Pb=new Uint8Array(e),0<t.Rb&&t.Pb.set(n.subarray(0,t.Rb),0))}var it={Xb:null,Wb:()=>it.createNode(null,"/",16895,0),createNode(t,e,n,r){if(24576==(61440&n)||4096==(61440&n))throw new _t(63);return it.Xb||(it.Xb={dir:{node:{Vb:it.Eb.Vb,Sb:it.Eb.Sb,ec:it.Eb.ec,lc:it.Eb.lc,Dc:it.Eb.Dc,qc:it.Eb.qc,oc:it.Eb.oc,Cc:it.Eb.Cc,pc:it.Eb.pc},stream:{ac:it.Ob.ac}},file:{node:{Vb:it.Eb.Vb,Sb:it.Eb.Sb},stream:{ac:it.Ob.ac,read:it.Ob.read,write:it.Ob.write,wc:it.Ob.wc,mc:it.Ob.mc,nc:it.Ob.nc}},link:{node:{Vb:it.Eb.Vb,Sb:it.Eb.Sb,ic:it.Eb.ic},stream:{}},xc:{node:{Vb:it.Eb.Vb,Sb:it.Eb.Sb},stream:dt}}),P((n=ab(t,e,n,r)).mode)?(n.Eb=it.Xb.dir.node,n.Ob=it.Xb.dir.stream,n.Pb={}):32768==(61440&n.mode)?(n.Eb=it.Xb.file.node,n.Ob=it.Xb.file.stream,n.Rb=0,n.Pb=null):40960==(61440&n.mode)?(n.Eb=it.Xb.link.node,n.Ob=it.Xb.link.stream):8192==(61440&n.mode)&&(n.Eb=it.Xb.xc.node,n.Ob=it.Xb.xc.stream),n.timestamp=Date.now(),t&&(t.Pb[e]=n,t.timestamp=n.timestamp),n},Zc:t=>t.Pb?t.Pb.subarray?t.Pb.subarray(0,t.Rb):new Uint8Array(t.Pb):new Uint8Array(0),Eb:{Vb(t){var e={};return e.Jc=8192==(61440&t.mode)?t.id:1,e.Ac=t.id,e.mode=t.mode,e.Pc=1,e.uid=0,e.Mc=0,e.hc=t.hc,P(t.mode)?e.size=4096:32768==(61440&t.mode)?e.size=t.Rb:40960==(61440&t.mode)?e.size=t.link.length:e.size=0,e.Fc=new Date(t.timestamp),e.Oc=new Date(t.timestamp),e.Ic=new Date(t.timestamp),e.Gc=4096,e.Hc=Math.ceil(e.size/e.Gc),e},Sb(t,e){if(void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&(e=e.size,t.Rb!=e))if(0==e)t.Pb=null,t.Rb=0;else{var n=t.Pb;t.Pb=new Uint8Array(e),n&&t.Pb.set(n.subarray(0,Math.min(e,t.Rb))),t.Rb=e}},ec(){throw ft[44]},lc:(t,e,n,r)=>it.createNode(t,e,n,r),Dc(t,e,n){if(P(t.mode)){try{var r=cb(e,n)}catch(t){}if(r)for(var i in r.Pb)throw new _t(55)}delete t.parent.Pb[t.name],t.parent.timestamp=Date.now(),t.name=n,e.Pb[n]=t,e.timestamp=t.parent.timestamp,t.parent=e},qc(t,e){delete t.Pb[e],t.timestamp=Date.now()},oc(t,e){var n,r=cb(t,e);for(n in r.Pb)throw new _t(55);delete t.Pb[e],t.timestamp=Date.now()},Cc(t){var e,n=[".",".."];for(e in t.Pb)t.Pb.hasOwnProperty(e)&&n.push(e);return n},pc:(t,e,n)=>((t=it.createNode(t,e,41471,0)).link=n,t),ic(t){if(40960!=(61440&t.mode))throw new _t(28);return t.link}},Ob:{read(t,e,n,r,i){var o=t.node.Pb;if(i>=t.node.Rb)return 0;if(8<(t=Math.min(t.node.Rb-i,r))&&o.subarray)e.set(o.subarray(i,i+t),n);else for(r=0;r<t;r++)e[n+r]=o[i+r];return t},write(t,e,n,r,i,o){if(e.buffer===L.buffer&&(o=!1),!r)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.Pb||t.Pb.subarray)){if(o)return t.Pb=e.subarray(n,n+r),t.Rb=r;if(0===t.Rb&&0===i)return t.Pb=e.slice(n,n+r),t.Rb=r;if(i+r<=t.Rb)return t.Pb.set(e.subarray(n,n+r),i),r}if(Za(t,i+r),t.Pb.subarray&&e.subarray)t.Pb.set(e.subarray(n,n+r),i);else for(o=0;o<r;o++)t.Pb[i+o]=e[n+o];return t.Rb=Math.max(t.Rb,i+r),r},ac(t,e,n){if(1===n?e+=t.position:2===n&&32768==(61440&t.node.mode)&&(e+=t.node.Rb),0>e)throw new _t(28);return e},wc(t,e,n){Za(t.node,e+n),t.node.Rb=Math.max(t.node.Rb,e+n)},mc(t,e,n,r,i){if(32768!=(61440&t.node.mode))throw new _t(43);if(t=t.node.Pb,2&i||t.buffer!==L.buffer){if((0<n||n+e<t.length)&&(t=t.subarray?t.subarray(n,n+e):Array.prototype.slice.call(t,n,n+e)),n=!0,e=65536*Math.ceil(e/65536),(i=db(65536,e))?(A.fill(0,i,i+e),e=i):e=0,!e)throw new _t(48);L.set(t,e)}else n=!1,e=t.byteOffset;return{Qc:e,Ec:n}},nc:(t,e,n,r)=>(it.Ob.write(t,e,0,r,n,!1),0)}},eb=(t,e)=>{var n=0;return t&&(n|=365),e&&(n|=146),n},ot=null,at={},ct=[],st=1,ut=null,lt=!0,_t=null,ft={};function R(t,e={}){if(!(t=Pa(t)))return{path:"",node:null};if(8<(e=Object.assign({yc:!0,uc:0},e)).uc)throw new _t(32);t=t.split("/").filter((t=>!!t));for(var n=ot,r="/",i=0;i<t.length;i++){var o=i===t.length-1;if(o&&e.parent)break;if(n=cb(n,t[i]),r=M(r+"/"+t[i]),n.bc&&(!o||o&&e.yc)&&(n=n.bc.root),!o||e.$b)for(o=0;40960==(61440&n.mode);)if(n=kb(r),n=R(r=Pa(La(r),n),{uc:e.uc+1}).node,40<o++)throw new _t(32)}return{path:r,node:n}}function lb(t){for(var e;;){if(t===t.parent)return t=t.Wb.Bc,e?"/"!==t[t.length-1]?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}}function mb(t,e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r)|0;return(t+n>>>0)%ut.length}function nb(t){var e=mb(t.parent.id,t.name);if(ut[e]===t)ut[e]=t.cc;else for(e=ut[e];e;){if(e.cc===t){e.cc=t.cc;break}e=e.cc}}function cb(t,e){var n;if(n=(n=ob(t,"x"))?n:t.Eb.ec?0:2)throw new _t(n,t);for(n=ut[mb(t.id,e)];n;n=n.cc){var r=n.name;if(n.parent.id===t.id&&r===e)return n}return t.Eb.ec(t,e)}function ab(t,e,n,r){return e=mb((t=new pb(t,e,n,r)).parent.id,t.name),t.cc=ut[e],ut[e]=t}function P(t){return 16384==(61440&t)}function qb(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e}function ob(t,e){return lt?0:!e.includes("r")||292&t.mode?e.includes("w")&&!(146&t.mode)||e.includes("x")&&!(73&t.mode)?2:0:2}function rb(t,e){try{return cb(t,e),20}catch(t){}return ob(t,"wx")}function sb(t,e,n){try{var r=cb(t,e)}catch(t){return t.Qb}if(t=ob(t,"wx"))return t;if(n){if(!P(r.mode))return 54;if(r===r.parent||"/"===lb(r))return 10}else if(P(r.mode))return 31;return 0}function S(t){if(!(t=ct[t]))throw new _t(8);return t}function ub(t,e=-1){return Et||((Et=function(){this.jc={}}).prototype={},Object.defineProperties(Et.prototype,{object:{get(){return this.node},set(t){this.node=t}},flags:{get(){return this.jc.flags},set(t){this.jc.flags=t}},position:{get(){return this.jc.position},set(t){this.jc.position=t}}})),t=Object.assign(new Et,t),-1==e&&(e=function tb(){for(var t=0;4096>=t;t++)if(!ct[t])return t;throw new _t(33)}()),t.Yb=e,ct[e]=t}var bt,dt={open(t){t.Ob=at[t.node.hc].Ob,t.Ob.open&&t.Ob.open(t)},ac(){throw new _t(70)}};function Va(t,e){at[t]={Ob:e}}function wb(t,e){var n="/"===e,r=!e;if(n&&ot)throw new _t(10);if(!n&&!r){var i=R(e,{yc:!1});if(e=i.path,(i=i.node).bc)throw new _t(10);if(!P(i.mode))throw new _t(54)}e={type:t,dd:{},Bc:e,Nc:[]},(t=t.Wb(e)).Wb=e,e.root=t,n?ot=t:i&&(i.bc=e,i.Wb&&i.Wb.Nc.push(e))}function xb(t,e,n){var r=R(t,{parent:!0}).node;if(!(t=Ma(t))||"."===t||".."===t)throw new _t(28);var i=rb(r,t);if(i)throw new _t(i);if(!r.Eb.lc)throw new _t(63);return r.Eb.lc(r,t,e,n)}function T(t,e){return xb(t,1023&(void 0!==e?e:511)|16384,0)}function yb(t,e,n){void 0===n&&(n=e,e=438),xb(t,8192|e,n)}function zb(t,e){if(!Pa(t))throw new _t(44);var n=R(e,{parent:!0}).node;if(!n)throw new _t(44);var r=rb(n,e=Ma(e));if(r)throw new _t(r);if(!n.Eb.pc)throw new _t(63);n.Eb.pc(n,e,t)}function Ab(t){var e=R(t,{parent:!0}).node,n=cb(e,t=Ma(t)),r=sb(e,t,!0);if(r)throw new _t(r);if(!e.Eb.oc)throw new _t(63);if(n.bc)throw new _t(10);e.Eb.oc(e,t),nb(n)}function kb(t){if(!(t=R(t).node))throw new _t(44);if(!t.Eb.ic)throw new _t(28);return Pa(lb(t.parent),t.Eb.ic(t))}function Bb(t,e){if(!(t=R(t,{$b:!e}).node))throw new _t(44);if(!t.Eb.Vb)throw new _t(63);return t.Eb.Vb(t)}function Cb(t){return Bb(t,!0)}function Db(t,e){if(!(t="string"==typeof t?R(t,{$b:!0}).node:t).Eb.Sb)throw new _t(63);t.Eb.Sb(t,{mode:4095&e|-4096&t.mode,timestamp:Date.now()})}function Eb(t,e){if(0>e)throw new _t(28);if(!(t="string"==typeof t?R(t,{$b:!0}).node:t).Eb.Sb)throw new _t(63);if(P(t.mode))throw new _t(31);if(32768!=(61440&t.mode))throw new _t(28);var n=ob(t,"w");if(n)throw new _t(n);t.Eb.Sb(t,{size:e,timestamp:Date.now()})}function Fb(t,e,n){if(""===t)throw new _t(44);if("string"==typeof e){var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===r)throw Error(`Unknown file open mode: ${e}`);e=r}if(n=64&e?4095&(void 0===n?438:n)|32768:0,"object"==typeof t)var o=t;else{t=M(t);try{o=R(t,{$b:!(131072&e)}).node}catch(t){}}if(r=!1,64&e)if(o){if(128&e)throw new _t(20)}else o=xb(t,n,0),r=!0;if(!o)throw new _t(44);if(8192==(61440&o.mode)&&(e&=-513),65536&e&&!P(o.mode))throw new _t(54);if(!r&&(n=o?40960==(61440&o.mode)?32:P(o.mode)&&("r"!==qb(e)||512&e)?31:ob(o,qb(e)):44))throw new _t(n);return 512&e&&!r&&Eb(o,0),e&=-131713,(o=ub({node:o,path:lb(o),flags:e,seekable:!0,position:0,Ob:o.Ob,Tc:[],error:!1})).Ob.open&&o.Ob.open(o),!i.logReadFiles||1&e||(mt||(mt={}),t in mt||(mt[t]=1)),o}function Hb(t,e,n){if(null===t.Yb)throw new _t(8);if(!t.seekable||!t.Ob.ac)throw new _t(70);if(0!=n&&1!=n&&2!=n)throw new _t(28);t.position=t.Ob.ac(t,e,n),t.Tc=[]}function Ib(){_t||((_t=function(t,e){this.name="ErrnoError",this.node=e,this.Rc=function(t){this.Qb=t},this.Rc(t),this.message="FS error"}).prototype=Error(),_t.prototype.constructor=_t,[44].forEach((t=>{ft[t]=new _t(t),ft[t].stack="<generic error, no stack>"})))}function Kb(t,e,n){t=M("/dev/"+t);var r=eb(!!e,!!n);ht||(ht=64);var i=ht++<<8;Va(i,{open(t){t.seekable=!1},close(){n&&n.buffer&&n.buffer.length&&n(10)},read(t,n,r,i){for(var o=0,s=0;s<i;s++){try{var l=e()}catch(t){throw new _t(29)}if(void 0===l&&0===o)throw new _t(6);if(null==l)break;o++,n[r+s]=l}return o&&(t.node.timestamp=Date.now()),o},write(t,e,r,i){for(var o=0;o<i;o++)try{n(e[r+o])}catch(t){throw new _t(29)}return i&&(t.node.timestamp=Date.now()),o}}),yb(t,r,i)}var ht,Et,mt,wt={};function Mb(t,e,n){if("/"===e.charAt(0))return e;if(t=-100===t?"/":S(t).path,0==e.length){if(!n)throw new _t(44);return t}return M(t+"/"+e)}function Nb(t,e,n){try{var r=t(e)}catch(t){if(t&&t.node&&M(e)!==M(lb(t.node)))return-54;throw t}O[n>>2]=r.Jc,O[n+4>>2]=r.mode,q[n+8>>2]=r.Pc,O[n+12>>2]=r.uid,O[n+16>>2]=r.Mc,O[n+20>>2]=r.hc,z=[r.size>>>0,(V=r.size,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],O[n+24>>2]=z[0],O[n+28>>2]=z[1],O[n+32>>2]=4096,O[n+36>>2]=r.Hc,t=r.Fc.getTime(),e=r.Oc.getTime();var i=r.Ic.getTime();return z=[Math.floor(t/1e3)>>>0,(V=Math.floor(t/1e3),1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],O[n+40>>2]=z[0],O[n+44>>2]=z[1],q[n+48>>2]=t%1e3*1e3,z=[Math.floor(e/1e3)>>>0,(V=Math.floor(e/1e3),1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],O[n+56>>2]=z[0],O[n+60>>2]=z[1],q[n+64>>2]=e%1e3*1e3,z=[Math.floor(i/1e3)>>>0,(V=Math.floor(i/1e3),1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],O[n+72>>2]=z[0],O[n+76>>2]=z[1],q[n+80>>2]=i%1e3*1e3,z=[r.Ac>>>0,(V=r.Ac,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],O[n+88>>2]=z[0],O[n+92>>2]=z[1],0}var pt=void 0;function Pb(){var t=O[pt>>2];return pt+=4,t}var Tt,Qb=(t,e)=>e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN,St=[0,31,60,91,121,152,182,213,244,274,305,335],yt=[0,31,59,90,120,151,181,212,243,273,304,334],Ub=t=>{var e=Ra(t)+1,n=kt(e);return n&&Sa(t,A,n,e),n},It={},Xb=()=>{if(!Tt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(t in It)void 0===It[t]?delete e[t]:e[t]=It[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);Tt=n}return Tt};function Yb(){}function Zb(){}function $b(){}function ac(){}function bc(){}function cc(){}function dc(){}function ec(){}function fc(){}function gc(){}function hc(){}function ic(){}function jc(){}function kc(){}function lc(){}function mc(){}function nc(){}function oc(){}function pc(){}function qc(){}function rc(){}function sc(){}function tc(){}function uc(){}function vc(){}function wc(){}function xc(){}function yc(){}function zc(){}function Ac(){}function Bc(){}function Cc(){}function Dc(){}function Ec(){}function Fc(){}function Gc(){}function Hc(){}function Ic(){}function Jc(){}function Kc(){}var Lc=t=>{v=t,y||0<B||(i.onExit&&i.onExit(t),x=!0),ea(t,new Ha(t))},Mc=t=>{t instanceof Ha||"unwind"==t||ea(1,t)},Nc=t=>{try{t()}catch(t){u(t)}},gt=0,vt=null,Lt=0,Rt=[],At={},Nt={},Ot=0,qt=null,Ct=[];function Zc(t){if(!x){if(0===gt){var e=!1,n=!1;t(((t=0)=>{if(!x&&(Lt=t,e=!0,n)){gt=2,Nc((()=>$c(vt))),"undefined"!=typeof Browser&&Browser.sc.Lc&&Browser.sc.resume(),t=!1;try{var r=(0,Pt[Nt[O[vt+8>>2]]])()}catch(e){r=e,t=!0}var i=!1;if(!vt){var o=qt;o&&(qt=null,(t?o.reject:o.resolve)(r),i=!0)}if(t&&!i)throw r}})),n=!0,e||(gt=1,vt=function Yc(){var t=kt(16396),e=t+12;q[t>>2]=e,q[t+4>>2]=e+16384,e=Rt[0];var n=At[e];return void 0===n&&(n=Ot++,At[e]=n,Nt[n]=e),O[t+8>>2]=n,t}(),"undefined"!=typeof Browser&&Browser.sc.Lc&&Browser.sc.pause(),Nc((()=>ad(vt))))}else 2===gt?(gt=0,Nc(bd),Dt(vt),vt=null,Ct.forEach((t=>{if(!x)try{if(t(),!(y||0<B))try{v=t=v,Lc(t)}catch(t){Mc(t)}}catch(t){Mc(t)}}))):u(`invalid state: ${gt}`);return Lt}}function dd(t){return Zc((e=>{t().then(e)}))}var Qt={},Z=(t,e,n,r,o)=>{function h(t){return--B,0!==_&&fd(_),"string"===e?t?K(A,t):"":"boolean"===e?!!t:t}var s={string:t=>{var e=0;if(null!=t&&0!==t){e=Ra(t)+1;var n=gd(e);Sa(t,A,n,e),e=n}return e},array:t=>{var e=gd(t.length);return L.set(t,e),e}};t=i["_"+t];var l=[],_=0;if(r)for(var f=0;f<r.length;f++){var E=s[n[f]];E?(0===_&&(_=hd()),l[f]=E(r[f])):l[f]=r[f]}return n=vt,r=t.apply(null,l),o=o&&o.async,B+=1,vt!=n?function Xc(){return new Promise(((t,e)=>{qt={resolve:t,reject:e}}))}().then(h):(r=h(r),o?Promise.resolve(r):r)};function pb(t,e,n,r){t||(t=this),this.parent=t,this.Wb=t.Wb,this.bc=null,this.id=st++,this.name=e,this.mode=n,this.Eb={},this.Ob={},this.hc=r}Object.defineProperties(pb.prototype,{read:{get:function(){return!(365&~this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return!(146&~this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}}}),Ib(),ut=Array(4096),wb(it,"/"),T("/tmp"),T("/home"),T("/home/web_user"),function(){T("/dev"),Va(259,{read:()=>0,write:(t,e,n,r)=>r}),yb("/dev/null",259),Ua(1280,nt),Ua(1536,rt),yb("/dev/tty",1280),yb("/dev/tty1",1536);var t=new Uint8Array(1024),e=0,c=()=>(0===e&&(e=Oa(t).byteLength),t[--e]);Kb("random",c),Kb("urandom",c),T("/dev/shm"),T("/dev/shm/tmp")}(),function(){T("/proc");var t=T("/proc/self");T("/proc/self/fd"),wb({Wb(){var e=ab(t,"fd",16895,73);return e.Eb={ec(t,e){var n=S(+e);return(t={parent:null,Wb:{Bc:"fake"},Eb:{ic:()=>n.path}}).parent=t}},e}},"/proc/self/fd")}(),function(){const t=new Map;i.setAuthorizer=function(e,n,r){return n?t.set(e,{f:n,vc:r}):t.delete(e),Z("set_authorizer","number",["number"],[e])},Yb=function(e,n,r,i,o,s){if(t.has(e)){const{f:l,vc:_}=t.get(e);return l(_,n,r?r?K(A,r):"":null,i?i?K(A,i):"":null,o?o?K(A,o):"":null,s?s?K(A,s):"":null)}return 0}}(),function(){function a(t,e){const n=[];for(let r=0;0!=t[e+r];++r){if(1e3<r)throw Error("C-string never terminated after 1k characters");n.push(t[e+r])}return String.fromCharCode(...n)}const t=new Map,e=new Map;i.createFunction=function(e,n,r,i,o,s){const l=t.size;return t.set(l,{f:s,Zb:o}),Z("create_function","number","number string number number number number".split(" "),[e,n,r,i,l,0])},i.createAggregate=function(e,n,r,i,o,s,l){const _=t.size;return t.set(_,{step:s,Kc:l,Zb:o}),Z("create_function","number","number string number number number number".split(" "),[e,n,r,i,_,1])},i.getFunctionUserData=function(t){return e.get(t)},i.updateHook=function(e,n){const r=t.size;return t.set(r,n),Z("update_hook","void",["number","number"],[e,r])},$b=function(n,r,i,o){n=t.get(n),e.set(r,n.Zb),n.f(r,new Uint32Array(A.buffer,o,i)),e.delete(r)},bc=function(n,r,i,o){n=t.get(n),e.set(r,n.Zb),n.step(r,new Uint32Array(A.buffer,o,i)),e.delete(r)},Zb=function(n,r){n=t.get(n),e.set(r,n.Zb),n.Kc(r),e.delete(r)},cc=function(e,n,r,i,o,s){e=t.get(e);const l=A;o=BigInt(s)<<32n|4294967295n&BigInt(o),e(n,a(l,r),a(l,i),o)}}(),function(){const t=new Map;i.progressHandler=function(e,n,r,i){return r?t.set(e,{f:r,vc:i}):t.delete(e),Z("progress_handler",null,["number","number"],[e,n])},ac=function(e){if(t.has(e)){const{f:n,vc:r}=t.get(e);return n(r)}return 0}}(),function(){function a(t,e){const n=`get${t}`,r=`set${t}`;return new Proxy(new DataView(A.buffer,e,"Int32"===t?4:8),{get(t,e){if(e===n)return function(n,r){if(!r)throw Error("must be little endian");return t[e](n,r)};if(e===r)return function(n,r,i){if(!i)throw Error("must be little endian");return t[e](n,r,i)};if("string"==typeof e&&e.match(/^(get)|(set)/))throw Error("invalid type");return t[e]}})}const t="object"==typeof Qt,e=new Map,n=new Map,r=new Map,o=t?new Set:null,s=t?new Set:null,l=new Map;tc=function(t,e,n,r){l.set(t?K(A,t):"",{size:e,fc:Array.from(new Uint32Array(A.buffer,r,n))})},i.createModule=function(n,r,i,o){t&&(i.handleAsync=dd);const s=e.size;return e.set(s,{module:i,Zb:o}),o=0,i.xCreate&&(o|=1),i.xConnect&&(o|=2),i.xBestIndex&&(o|=4),i.xDisconnect&&(o|=8),i.xDestroy&&(o|=16),i.xOpen&&(o|=32),i.xClose&&(o|=64),i.xFilter&&(o|=128),i.xNext&&(o|=256),i.xEof&&(o|=512),i.xColumn&&(o|=1024),i.xRowid&&(o|=2048),i.xUpdate&&(o|=4096),i.xBegin&&(o|=8192),i.xSync&&(o|=16384),i.xCommit&&(o|=32768),i.xRollback&&(o|=65536),i.xFindFunction&&(o|=131072),i.xRename&&(o|=262144),Z("create_module","number",["number","string","number","number"],[n,r,s,o])},jc=function(r,i,s,l,_,f){if(i=e.get(i),n.set(_,i),t){o.delete(_);for(const t of o)n.delete(t)}return l=Array.from(new Uint32Array(A.buffer,l,s)).map((t=>t?K(A,t):"")),i.module.xCreate(r,i.Zb,l,_,a("Int32",f))},ic=function(r,i,s,l,_,f){if(i=e.get(i),n.set(_,i),t){o.delete(_);for(const t of o)n.delete(t)}return l=Array.from(new Uint32Array(A.buffer,l,s)).map((t=>t?K(A,t):"")),i.module.xConnect(r,i.Zb,l,_,a("Int32",f))},ec=function(t,e){var r=n.get(t),i=l.get("sqlite3_index_info").fc;const o={};o.nConstraint=I(e+i[0],"i32"),o.aConstraint=[];for(var s=I(e+i[1],"*"),_=l.get("sqlite3_index_constraint").size,f=0;f<o.nConstraint;++f){var E=o.aConstraint,m=E.push,w=s+f*_,p=l.get("sqlite3_index_constraint").fc,y={};y.iColumn=I(w+p[0],"i32"),y.op=I(w+p[1],"i8"),y.usable=!!I(w+p[2],"i8"),m.call(E,y)}for(o.nOrderBy=I(e+i[2],"i32"),o.aOrderBy=[],s=I(e+i[3],"*"),_=l.get("sqlite3_index_orderby").size,f=0;f<o.nOrderBy;++f)m=(E=o.aOrderBy).push,w=s+f*_,p=l.get("sqlite3_index_orderby").fc,(y={}).iColumn=I(w+p[0],"i32"),y.desc=!!I(w+p[1],"i8"),m.call(E,y);for(o.aConstraintUsage=[],s=0;s<o.nConstraint;++s)o.aConstraintUsage.push({argvIndex:0,omit:!1});for(o.idxNum=I(e+i[5],"i32"),o.idxStr=null,o.orderByConsumed=!!I(e+i[8],"i8"),o.estimatedCost=I(e+i[9],"double"),o.estimatedRows=I(e+i[10],"i32"),o.idxFlags=I(e+i[11],"i32"),o.colUsed=I(e+i[12],"i32"),t=r.module.xBestIndex(t,o),i=I(e+(r=l.get("sqlite3_index_info").fc)[4],"*"),s=l.get("sqlite3_index_constraint_usage").size,m=0;m<o.nConstraint;++m)_=i+m*s,E=o.aConstraintUsage[m],J(_+(w=l.get("sqlite3_index_constraint_usage").fc)[0],E.argvIndex,"i32"),J(_+w[1],E.omit?1:0,"i8");return J(e+r[5],o.idxNum,"i32"),"string"==typeof o.idxStr&&(i=Ra(o.idxStr),s=Z("sqlite3_malloc","number",["number"],[i+1]),Sa(o.idxStr,A,s,i+1),J(e+r[6],s,"*"),J(e+r[7],1,"i32")),J(e+r[8],o.orderByConsumed,"i32"),J(e+r[9],o.estimatedCost,"double"),J(e+r[10],o.estimatedRows,"i32"),J(e+r[11],o.idxFlags,"i32"),t},lc=function(e){const r=n.get(e);return t?o.add(e):n.delete(e),r.module.xDisconnect(e)},kc=function(e){const r=n.get(e);return t?o.add(e):n.delete(e),r.module.xDestroy(e)},pc=function(e,i){const o=n.get(e);if(r.set(i,o),t){s.delete(i);for(const t of s)r.delete(t)}return o.module.xOpen(e,i)},fc=function(e){const n=r.get(e);return t?s.add(e):r.delete(e),n.module.xClose(e)},mc=function(t){return r.get(t).module.xEof(t)?1:0},nc=function(t,e,n,i,o){const s=r.get(t);return n=n?n?K(A,n):"":null,o=new Uint32Array(A.buffer,o,i),s.module.xFilter(t,e,n,o)},oc=function(t){return r.get(t).module.xNext(t)},gc=function(t,e,n){return r.get(t).module.xColumn(t,e,n)},sc=function(t,e){return r.get(t).module.xRowid(t,a("BigInt64",e))},vc=function(t,e,r,i){const o=n.get(t);return r=new Uint32Array(A.buffer,r,e),o.module.xUpdate(t,r,a("BigInt64",i))},dc=function(t){return n.get(t).module.xBegin(t)},uc=function(t){return n.get(t).module.xSync(t)},hc=function(t){return n.get(t).module.xCommit(t)},rc=function(t){return n.get(t).module.xRollback(t)},qc=function(t,e){const r=n.get(t);return e=e?K(A,e):"",r.module.xRename(t,e)}}(),function(){function a(t,e){const n=`get${t}`,r=`set${t}`;return new Proxy(new DataView(A.buffer,e,"Int32"===t?4:8),{get(t,e){if(e===n)return function(n,r){if(!r)throw Error("must be little endian");return t[e](n,r)};if(e===r)return function(n,r,i){if(!i)throw Error("must be little endian");return t[e](n,r,i)};if("string"==typeof e&&e.match(/^(get)|(set)/))throw Error("invalid type");return t[e]}})}function b(t){return q[t>>=2]+q[t+1]*2**32}const t="object"==typeof Qt,e=new Map,n=new Map;i.registerVFS=function(n,r){if(Z("sqlite3_vfs_find","number",["string"],[n.name]))throw Error(`VFS '${n.name}' already registered`);t&&(n.handleAsync=dd);var o=n.cd??64;const s=i._malloc(4);return(r=Z("register_vfs","number",["string","number","number","number"],[n.name,o,r?1:0,s]))||(o=I(s,"*"),e.set(o,n)),i._free(s),r};const r=t?new Set:null;yc=function(e){const i=n.get(e);return t?r.add(e):n.delete(e),i.xClose(e)},Fc=function(t,e,r,i){return n.get(t).xRead(t,A.subarray(e,e+r),b(i))},Kc=function(t,e,r,i){return n.get(t).xWrite(t,A.subarray(e,e+r),b(i))},Ic=function(t,e){return n.get(t).xTruncate(t,b(e))},Hc=function(t,e){return n.get(t).xSync(t,e)},Cc=function(t,e){const r=n.get(t);return e=a("BigInt64",e),r.xFileSize(t,e)},Dc=function(t,e){return n.get(t).xLock(t,e)},Jc=function(t,e){return n.get(t).xUnlock(t,e)},xc=function(t,e){const r=n.get(t);return e=a("Int32",e),r.xCheckReservedLock(t,e)},Bc=function(t,e,r){const i=n.get(t);return r=new DataView(A.buffer,r),i.xFileControl(t,e,r)},Gc=function(t){return n.get(t).xSectorSize(t)},Ac=function(t){return n.get(t).xDeviceCharacteristics(t)},Ec=function(i,o,s,l,_){if(i=e.get(i),n.set(s,i),t)for(var f of(r.delete(s),r))n.delete(f);if(f=null,64&l){f=1;const t=[];for(;f;){const e=A[o++];if(e)t.push(e);else switch(A[o]||(f=null),f){case 1:t.push(63),f=2;break;case 2:t.push(61),f=3;break;case 3:t.push(38),f=2}}f=(new TextDecoder).decode(new Uint8Array(t))}else o&&(f=o?K(A,o):"");return _=a("Int32",_),i.xOpen(f,s,l,_)},zc=function(t,n,r){return e.get(t).xDelete(n?K(A,n):"",r)},wc=function(t,n,r,i){return t=e.get(t),i=a("Int32",i),t.xAccess(n?K(A,n):"",r,i)}}();var xt={a:(t,e,n,r)=>{u(`Assertion failed: ${t?K(A,t):""}, at: `+[e?e?K(A,e):"":"unknown filename",n,r?r?K(A,r):"":"unknown function"])},K:function(t,e){try{return Db(t=t?K(A,t):"",e),0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},M:function(t,e,n){try{if(e=Mb(t,e=e?K(A,e):""),-8&n)return-28;var r=R(e,{$b:!0}).node;return r?(t="",4&n&&(t+="r"),2&n&&(t+="w"),1&n&&(t+="x"),t&&ob(r,t)?-2:0):-44}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},L:function(t,e){try{return Db(S(t).node,e),0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},J:function(t){try{var e=S(t).node,n="string"==typeof e?R(e,{$b:!0}).node:e;if(!n.Eb.Sb)throw new _t(63);return n.Eb.Sb(n,{timestamp:Date.now()}),0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},b:function(t,e,n){pt=n;try{var r=S(t);switch(e){case 0:var i=Pb();if(0>i)return-28;for(;ct[i];)i++;return ub(r,i).Yb;case 1:case 2:case 6:case 7:return 0;case 3:return r.flags;case 4:return i=Pb(),r.flags|=i,0;case 5:return i=Pb(),N[i+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return O[jd()>>2]=28,-1}}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},I:function(t,e){try{return Nb(Bb,S(t).path,e)}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},n:function(t,e,n){e=Qb(e,n);try{if(isNaN(e))return 61;var r=S(t);if(!(2097155&r.flags))throw new _t(28);return Eb(r.node,e),0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},C:function(t,e){try{if(0===e)return-28;var n=Ra("/")+1;return e<n?-68:(Sa("/",A,t,e),n)}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},F:function(t,e){try{return Nb(Cb,t=t?K(A,t):"",e)}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},z:function(t,e,n){try{return e=Mb(t,e=e?K(A,e):""),"/"===(e=M(e))[e.length-1]&&(e=e.substr(0,e.length-1)),T(e,n),0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},E:function(t,e,n,r){try{return Nb(256&r?Cb:Bb,e=Mb(t,e=e?K(A,e):"",4096&r),n)}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},y:function(t,e,n,r){pt=r;try{return Fb(e=Mb(t,e=e?K(A,e):""),n,r?Pb():0).Yb}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},v:function(t,e,n,r){try{if(e=Mb(t,e=e?K(A,e):""),0>=r)return-28;var i=kb(e),o=Math.min(r,Ra(i)),s=L[n+o];return Sa(i,A,n,r+1),L[n+o]=s,o}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},u:function(t){try{return Ab(t=t?K(A,t):""),0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},G:function(t,e){try{return Nb(Bb,t=t?K(A,t):"",e)}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},r:function(t,e,n){try{if(e=Mb(t,e=e?K(A,e):""),0===n){var r=R(t=e,{parent:!0}).node;if(!r)throw new _t(44);var i=Ma(t),o=cb(r,i),s=sb(r,i,!1);if(s)throw new _t(s);if(!r.Eb.qc)throw new _t(63);if(o.bc)throw new _t(10);r.Eb.qc(r,i),nb(o)}else 512===n?Ab(e):u("Invalid flags passed to unlinkat");return 0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},q:function(t,e,n){try{if(e=Mb(t,e=e?K(A,e):"",!0),n){var r=q[n>>2]+4294967296*O[n+4>>2],i=O[n+8>>2];o=1e3*r+i/1e6,s=1e3*(r=q[(n+=16)>>2]+4294967296*O[n+4>>2])+(i=O[n+8>>2])/1e6}else var o=Date.now(),s=o;t=o;var l=R(e,{$b:!0}).node;return l.Eb.Sb(l,{timestamp:Math.max(t,s)}),0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},k:function(t,e,n){t=new Date(1e3*Qb(t,e)),O[n>>2]=t.getSeconds(),O[n+4>>2]=t.getMinutes(),O[n+8>>2]=t.getHours(),O[n+12>>2]=t.getDate(),O[n+16>>2]=t.getMonth(),O[n+20>>2]=t.getFullYear()-1900,O[n+24>>2]=t.getDay(),e=t.getFullYear(),O[n+28>>2]=(0!=e%4||0==e%100&&0!=e%400?yt:St)[t.getMonth()]+t.getDate()-1|0,O[n+36>>2]=-60*t.getTimezoneOffset(),e=new Date(t.getFullYear(),6,1).getTimezoneOffset();var r=new Date(t.getFullYear(),0,1).getTimezoneOffset();O[n+32>>2]=0|(e!=r&&t.getTimezoneOffset()==Math.min(r,e))},i:function(t,e,n,r,i,o,s,l){i=Qb(i,o);try{if(isNaN(i))return 61;var _=S(r);if(2&e&&!(2&n)&&2!=(2097155&_.flags))throw new _t(2);if(1==(2097155&_.flags))throw new _t(2);if(!_.Ob.mc)throw new _t(43);var f=_.Ob.mc(_,t,i,e,n),E=f.Qc;return O[s>>2]=f.Ec,q[l>>2]=E,0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},j:function(t,e,n,r,i,o,s){o=Qb(o,s);try{if(isNaN(o))return 61;var l=S(i);if(2&n){if(32768!=(61440&l.node.mode))throw new _t(43);2&r||l.Ob.nc&&l.Ob.nc(l,A.slice(t,t+e),o,e,r)}}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return-t.Qb}},s:(t,e,n)=>{function d(t){return(t=t.toTimeString().match(/\(([A-Za-z ]+)\)$/))?t[1]:"GMT"}var r=(new Date).getFullYear(),i=new Date(r,0,1),o=new Date(r,6,1);r=i.getTimezoneOffset();var s=o.getTimezoneOffset();q[t>>2]=60*Math.max(r,s),O[e>>2]=Number(r!=s),t=d(i),e=d(o),t=Ub(t),e=Ub(e),s<r?(q[n>>2]=t,q[n+4>>2]=e):(q[n>>2]=e,q[n+4>>2]=t)},e:()=>Date.now(),d:()=>performance.now(),o:t=>{var e=A.length;if(2147483648<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var i=Math;r=Math.max(t,r);t:{i=(i.min.call(i,2147483648,r+(65536-r%65536)%65536)-g.buffer.byteLength+65535)/65536;try{g.grow(i),ra();var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},A:(t,e)=>{var n=0;return Xb().forEach(((r,i)=>{var o=e+n;for(i=q[t+4*i>>2]=o,o=0;o<r.length;++o)L[0|i++]=r.charCodeAt(o);L[0|i]=0,n+=r.length+1})),0},B:(t,e)=>{var n=Xb();q[t>>2]=n.length;var r=0;return n.forEach((t=>r+=t.length+1)),q[e>>2]=r,0},f:function(t){try{var e=S(t);if(null===e.Yb)throw new _t(8);e.rc&&(e.rc=null);try{e.Ob.close&&e.Ob.close(e)}catch(t){throw t}finally{ct[e.Yb]=null}return e.Yb=null,0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return t.Qb}},p:function(t,e){try{var n=S(t);return L[0|e]=n.Ub?2:P(n.mode)?3:40960==(61440&n.mode)?7:4,N[e+2>>1]=0,z=[0,(V=0,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],O[e+8>>2]=z[0],O[e+12>>2]=z[1],z=[0,(V=0,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],O[e+16>>2]=z[0],O[e+20>>2]=z[1],0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return t.Qb}},x:function(t,e,n,r){try{t:{var i=S(t);t=e;for(var o,s=e=0;s<n;s++){var l=q[t>>2],_=q[t+4>>2];t+=8;var f=i,E=l,m=_,w=o,p=L;if(0>m||0>w)throw new _t(28);if(null===f.Yb)throw new _t(8);if(1==(2097155&f.flags))throw new _t(8);if(P(f.node.mode))throw new _t(31);if(!f.Ob.read)throw new _t(28);var y=void 0!==w;if(y){if(!f.seekable)throw new _t(70)}else w=f.position;var g=f.Ob.read(f,p,E,m,w);y||(f.position+=g);var v=g;if(0>v){var A=-1;break t}if(e+=v,v<_)break;void 0!==o&&(o+=v)}A=e}return q[r>>2]=A,0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return t.Qb}},m:function(t,e,n,r,i){e=Qb(e,n);try{if(isNaN(e))return 61;var o=S(t);return Hb(o,e,r),z=[o.position>>>0,(V=o.position,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],O[i>>2]=z[0],O[i+4>>2]=z[1],o.rc&&0===e&&0===r&&(o.rc=null),0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return t.Qb}},D:function(t){try{var e=S(t);return Zc((t=>{var n=e.node.Wb;n.type.Sc?n.type.Sc(n,!1,(e=>{t(e?29:0)})):t(0)}))}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return t.Qb}},t:function(t,e,n,r){try{t:{var i=S(t);t=e;for(var o,s=e=0;s<n;s++){var l=q[t>>2],_=q[t+4>>2];t+=8;var f=i,E=l,m=_,w=o,p=L;if(0>m||0>w)throw new _t(28);if(null===f.Yb)throw new _t(8);if(!(2097155&f.flags))throw new _t(8);if(P(f.node.mode))throw new _t(31);if(!f.Ob.write)throw new _t(28);f.seekable&&1024&f.flags&&Hb(f,0,2);var y=void 0!==w;if(y){if(!f.seekable)throw new _t(70)}else w=f.position;var g=f.Ob.write(f,p,E,m,w,void 0);y||(f.position+=g);var v=g;if(0>v){var A=-1;break t}e+=v,void 0!==o&&(o+=v)}A=e}return q[r>>2]=A,0}catch(t){if(void 0===wt||"ErrnoError"!==t.name)throw t;return t.Qb}},sa:Yb,O:Zb,ha:$b,ca:ac,Z:bc,H:cc,la:dc,w:ec,g:fc,oa:gc,ja:hc,ea:ic,fa:jc,h:kc,l:lc,pa:mc,ra:nc,qa:oc,da:pc,ga:qc,ia:rc,na:sc,c:tc,ka:uc,ma:vc,aa:wc,V:xc,$:yc,ba:zc,S:Ac,U:Bc,Y:Cc,X:Dc,R:Ec,Q:Fc,T:Gc,_:Hc,N:Ic,W:Jc,P:Kc},Pt=function(){function a(t){if(t=t.exports,Pt=t=function Oc(t){var e,n={};for(e in t)!function(e){var r=t[e];n[e]="function"==typeof r?function(){Rt.push(e);try{return r.apply(null,arguments)}finally{x||(Rt.pop()===e||u(),vt&&1===gt&&0===Rt.length&&(gt=0,Nc(Qc),"undefined"!=typeof Fibers&&Fibers.ed()))}}:r}(e);return n}(t),g=Pt.ta,ra(),D.unshift(Pt.ua),W--,i.monitorRunDependencies&&i.monitorRunDependencies(W),0==W&&(null!==j&&(clearInterval(j),j=null),X)){var e=X;X=null,e()}return t}var t={a:xt};if(W++,i.monitorRunDependencies&&i.monitorRunDependencies(W),i.instantiateWasm)try{return i.instantiateWasm(t,a)}catch(t){p(`Module.instantiateWasm callback failed with error: ${t}`),r(t)}return function Ga(t,e){var n=H;return m||"function"!=typeof WebAssembly.instantiateStreaming||Aa(n)||"function"!=typeof fetch?Fa(n,t,e):fetch(n,{credentials:"same-origin"}).then((r=>WebAssembly.instantiateStreaming(r,t).then(e,(function(r){return p(`wasm streaming compile failed: ${r}`),p("falling back to ArrayBuffer instantiation"),Fa(n,t,e)}))))}(t,(function(t){a(t.instance)})).catch(r),{}}();i._sqlite3_vfs_find=t=>(i._sqlite3_vfs_find=Pt.va)(t),i._sqlite3_malloc=t=>(i._sqlite3_malloc=Pt.wa)(t),i._sqlite3_free=t=>(i._sqlite3_free=Pt.xa)(t),i._sqlite3_prepare_v2=(t,e,n,r,o)=>(i._sqlite3_prepare_v2=Pt.ya)(t,e,n,r,o),i._sqlite3_step=t=>(i._sqlite3_step=Pt.za)(t),i._sqlite3_column_int64=(t,e)=>(i._sqlite3_column_int64=Pt.Aa)(t,e),i._sqlite3_column_int=(t,e)=>(i._sqlite3_column_int=Pt.Ba)(t,e),i._sqlite3_finalize=t=>(i._sqlite3_finalize=Pt.Ca)(t),i._sqlite3_reset=t=>(i._sqlite3_reset=Pt.Da)(t),i._sqlite3_clear_bindings=t=>(i._sqlite3_clear_bindings=Pt.Ea)(t),i._sqlite3_value_blob=t=>(i._sqlite3_value_blob=Pt.Fa)(t),i._sqlite3_value_text=t=>(i._sqlite3_value_text=Pt.Ga)(t),i._sqlite3_value_bytes=t=>(i._sqlite3_value_bytes=Pt.Ha)(t),i._sqlite3_value_double=t=>(i._sqlite3_value_double=Pt.Ia)(t),i._sqlite3_value_int=t=>(i._sqlite3_value_int=Pt.Ja)(t),i._sqlite3_value_int64=t=>(i._sqlite3_value_int64=Pt.Ka)(t),i._sqlite3_value_type=t=>(i._sqlite3_value_type=Pt.La)(t),i._sqlite3_result_blob=(t,e,n,r)=>(i._sqlite3_result_blob=Pt.Ma)(t,e,n,r),i._sqlite3_result_double=(t,e)=>(i._sqlite3_result_double=Pt.Na)(t,e),i._sqlite3_result_error=(t,e,n)=>(i._sqlite3_result_error=Pt.Oa)(t,e,n),i._sqlite3_result_int=(t,e)=>(i._sqlite3_result_int=Pt.Pa)(t,e),i._sqlite3_result_int64=(t,e,n)=>(i._sqlite3_result_int64=Pt.Qa)(t,e,n),i._sqlite3_result_null=t=>(i._sqlite3_result_null=Pt.Ra)(t),i._sqlite3_result_text=(t,e,n,r)=>(i._sqlite3_result_text=Pt.Sa)(t,e,n,r),i._sqlite3_column_count=t=>(i._sqlite3_column_count=Pt.Ta)(t),i._sqlite3_data_count=t=>(i._sqlite3_data_count=Pt.Ua)(t),i._sqlite3_column_blob=(t,e)=>(i._sqlite3_column_blob=Pt.Va)(t,e),i._sqlite3_column_bytes=(t,e)=>(i._sqlite3_column_bytes=Pt.Wa)(t,e),i._sqlite3_column_double=(t,e)=>(i._sqlite3_column_double=Pt.Xa)(t,e),i._sqlite3_column_text=(t,e)=>(i._sqlite3_column_text=Pt.Ya)(t,e),i._sqlite3_column_type=(t,e)=>(i._sqlite3_column_type=Pt.Za)(t,e),i._sqlite3_column_name=(t,e)=>(i._sqlite3_column_name=Pt._a)(t,e),i._sqlite3_bind_blob=(t,e,n,r,o)=>(i._sqlite3_bind_blob=Pt.$a)(t,e,n,r,o),i._sqlite3_bind_double=(t,e,n)=>(i._sqlite3_bind_double=Pt.ab)(t,e,n),i._sqlite3_bind_int=(t,e,n)=>(i._sqlite3_bind_int=Pt.bb)(t,e,n),i._sqlite3_bind_int64=(t,e,n,r)=>(i._sqlite3_bind_int64=Pt.cb)(t,e,n,r),i._sqlite3_bind_null=(t,e)=>(i._sqlite3_bind_null=Pt.db)(t,e),i._sqlite3_bind_text=(t,e,n,r,o)=>(i._sqlite3_bind_text=Pt.eb)(t,e,n,r,o),i._sqlite3_bind_parameter_count=t=>(i._sqlite3_bind_parameter_count=Pt.fb)(t),i._sqlite3_bind_parameter_name=(t,e)=>(i._sqlite3_bind_parameter_name=Pt.gb)(t,e),i._sqlite3_sql=t=>(i._sqlite3_sql=Pt.hb)(t),i._sqlite3_exec=(t,e,n,r,o)=>(i._sqlite3_exec=Pt.ib)(t,e,n,r,o),i._sqlite3_errmsg=t=>(i._sqlite3_errmsg=Pt.jb)(t),i._sqlite3_declare_vtab=(t,e)=>(i._sqlite3_declare_vtab=Pt.kb)(t,e),i._sqlite3_libversion=()=>(i._sqlite3_libversion=Pt.lb)(),i._sqlite3_libversion_number=()=>(i._sqlite3_libversion_number=Pt.mb)(),i._sqlite3_changes=t=>(i._sqlite3_changes=Pt.nb)(t),i._sqlite3_close=t=>(i._sqlite3_close=Pt.ob)(t),i._sqlite3_limit=(t,e,n)=>(i._sqlite3_limit=Pt.pb)(t,e,n),i._sqlite3_open_v2=(t,e,n,r)=>(i._sqlite3_open_v2=Pt.qb)(t,e,n,r),i._sqlite3_get_autocommit=t=>(i._sqlite3_get_autocommit=Pt.rb)(t);var jd=()=>(jd=Pt.sb)(),kt=i._malloc=t=>(kt=i._malloc=Pt.tb)(t),Dt=i._free=t=>(Dt=i._free=Pt.ub)(t);i._RegisterExtensionFunctions=t=>(i._RegisterExtensionFunctions=Pt.vb)(t),i._set_authorizer=t=>(i._set_authorizer=Pt.wb)(t),i._create_function=(t,e,n,r,o,s)=>(i._create_function=Pt.xb)(t,e,n,r,o,s),i._update_hook=(t,e)=>(i._update_hook=Pt.yb)(t,e),i._create_module=(t,e,n,r)=>(i._create_module=Pt.zb)(t,e,n,r),i._progress_handler=(t,e)=>(i._progress_handler=Pt.Ab)(t,e),i._register_vfs=(t,e,n,r)=>(i._register_vfs=Pt.Bb)(t,e,n,r),i._getSqliteFree=()=>(i._getSqliteFree=Pt.Cb)();var Mt,Ft=i._main=(t,e)=>(Ft=i._main=Pt.Db)(t,e),db=(t,e)=>(db=Pt.Fb)(t,e),md=()=>(md=Pt.Gb)(),hd=()=>(hd=Pt.Hb)(),fd=t=>(fd=Pt.Ib)(t),gd=t=>(gd=Pt.Jb)(t),ad=t=>(ad=Pt.Kb)(t),Qc=()=>(Qc=Pt.Lb)(),$c=t=>($c=Pt.Mb)(t),bd=()=>(bd=Pt.Nb)();function pd(){function a(){if(!Mt&&(Mt=!0,i.calledRun=!0,!x)){if(i.noFSInit||bt||(bt=!0,Ib(),i.stdin=i.stdin,i.stdout=i.stdout,i.stderr=i.stderr,i.stdin?Kb("stdin",i.stdin):zb("/dev/tty","/dev/stdin"),i.stdout?Kb("stdout",null,i.stdout):zb("/dev/tty","/dev/stdout"),i.stderr?Kb("stderr",null,i.stderr):zb("/dev/tty1","/dev/stderr"),Fb("/dev/stdin",0),Fb("/dev/stdout",1),Fb("/dev/stderr",1)),lt=!1,Ia(D),Ia(F),e(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),Ut){var t=Ft;try{var n=t(0,0);v=n,Lc(n)}catch(t){Mc(t)}}if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)t=i.postRun.shift(),U.unshift(t);Ia(U)}}if(!(0<W)){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)xa();Ia(k),0<W||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),a()}),1)):a())}}if(i.getTempRet0=md,i.ccall=Z,i.cwrap=(t,e,n,r)=>{var o=!n||n.every((t=>"number"===t||"boolean"===t));return"string"!==e&&o&&!r?i["_"+t]:function(){return Z(t,e,n,arguments,r)}},i.setValue=J,i.getValue=I,i.UTF8ToString=(t,e)=>t?K(A,t,e):"",i.stringToUTF8=(t,e,n)=>Sa(t,A,e,n),i.lengthBytesUTF8=Ra,X=function od(){Mt||pd(),Mt||(X=od)},i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();var Ut=!0;return i.noInitialRun&&(Ut=!1),pd(),t.ready}),i=0,o=10,s=21,l=25,_=27,f=100,E=101,m=2,w=4,p=64,y=1,g=2,v=3,L=4,A=5,N=0x7fffffffffffffffn,O=-0x8000000000000000n;class SQLiteError extends Error{constructor(t,e){super(t),this.code=e}}const q=!0;function Factory(t){const e={},n=t._getSqliteFree(),r=t._malloc(8),o=[r,r+4];function createUTF8(e){if("string"!=typeof e)return 0;const n=t.lengthBytesUTF8(e),r=t._sqlite3_malloc(n+1);return t.stringToUTF8(e,r,n+1),r}function cvt32x2ToBigInt(t,e){return BigInt(e)<<32n|0xffffffffn&BigInt(t)}const p=function(){const t=BigInt(Number.MAX_SAFE_INTEGER)>>32n,e=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(n,r){return r>t||r<e?cvt32x2ToBigInt(n,r):4294967296*r+(2147483647&n)-(2147483648&n)}}(),C=new Set;function verifyDatabase(t){if(!C.has(t))throw new SQLiteError("not a database",s)}const Q=new Map;function verifyStatement(t){if(!Q.has(t))throw new SQLiteError("not a statement",s)}e.bind_collection=function(t,n){verifyStatement(t);const r=Array.isArray(n),o=e.bind_parameter_count(t);for(let i=1;i<=o;++i){const o=n[r?i-1:e.bind_parameter_name(t,i)];void 0!==o&&e.bind(t,i,o)}return i},e.bind=function(t,n,r){switch(verifyStatement(t),typeof r){case"number":return r===(0|r)?e.bind_int(t,n,r):e.bind_double(t,n,r);case"string":return e.bind_text(t,n,r);default:return r instanceof Uint8Array||Array.isArray(r)?e.bind_blob(t,n,r):null===r?e.bind_null(t,n):"bigint"==typeof r?e.bind_int64(t,n,r):void 0===r?_:(console.warn("unknown binding converted to null",r),e.bind_null(t,n))}},e.bind_blob=function(){const e="sqlite3_bind_blob",r=t.cwrap(e,...decl("nnnnn:n"));return function(i,o,s){verifyStatement(i);const l=s.byteLength??s.length,_=t._sqlite3_malloc(l);t.HEAPU8.subarray(_).set(s);const f=r(i,o,_,l,n);return check(e,f,Q.get(i))}}(),e.bind_parameter_count=function(){const e=t.cwrap("sqlite3_bind_parameter_count",...decl("n:n"));return function(t){verifyStatement(t);return e(t)}}(),e.bind_double=function(){const e="sqlite3_bind_double",n=t.cwrap(e,...decl("nnn:n"));return function(t,r,i){verifyStatement(t);const o=n(t,r,i);return check(e,o,Q.get(t))}}(),e.bind_int=function(){const e="sqlite3_bind_int",n=t.cwrap(e,...decl("nnn:n"));return function(t,r,i){if(verifyStatement(t),i>2147483647||i<-2147483648)return l;const o=n(t,r,i);return check(e,o,Q.get(t))}}(),e.bind_int64=function(){const e="sqlite3_bind_int64",n=t.cwrap(e,...decl("nnnn:n"));return function(t,r,i){if(verifyStatement(t),i>N||i<O)return l;const o=i>>32n,s=n(t,r,Number(0xffffffffn&i),Number(o));return check(e,s,Q.get(t))}}(),e.bind_null=function(){const e="sqlite3_bind_null",n=t.cwrap(e,...decl("nn:n"));return function(t,r){verifyStatement(t);const i=n(t,r);return check(e,i,Q.get(t))}}(),e.bind_parameter_name=function(){const e=t.cwrap("sqlite3_bind_parameter_name",...decl("n:s"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.bind_text=function(){const e="sqlite3_bind_text",r=t.cwrap(e,...decl("nnnnn:n"));return function(t,i,o){verifyStatement(t);const s=createUTF8(o),l=r(t,i,s,-1,n);return check(e,l,Q.get(t))}}(),e.changes=function(){const e=t.cwrap("sqlite3_changes",...decl("n:n"));return function(t){verifyDatabase(t);return e(t)}}(),e.close=function(){const e="sqlite3_close",n=t.cwrap(e,...decl("n:n"),{async:q});return async function(t){verifyDatabase(t);const r=await n(t);return C.delete(t),check(e,r,t)}}(),e.column=function(n,r){verifyStatement(n);const i=e.column_type(n,r);switch(i){case L:return e.column_blob(n,r);case g:return e.column_double(n,r);case y:const o=e.column_int(n,r),s=t.getTempRet0();return p(o,s);case A:return null;case v:return e.column_text(n,r);default:throw new SQLiteError("unknown type",i)}},e.column_blob=function(){const n=t.cwrap("sqlite3_column_blob",...decl("nn:n"));return function(r,i){verifyStatement(r);const o=e.column_bytes(r,i),s=n(r,i);return t.HEAPU8.subarray(s,s+o)}}(),e.column_bytes=function(){const e=t.cwrap("sqlite3_column_bytes",...decl("nn:n"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_count=function(){const e=t.cwrap("sqlite3_column_count",...decl("n:n"));return function(t){verifyStatement(t);return e(t)}}(),e.column_double=function(){const e=t.cwrap("sqlite3_column_double",...decl("nn:n"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_int=function(){const e=t.cwrap("sqlite3_column_int64",...decl("nn:n"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_int64=function(){const e=t.cwrap("sqlite3_column_int64",...decl("nn:n"));return function(n,r){verifyStatement(n);return cvt32x2ToBigInt(e(n,r),t.getTempRet0())}}(),e.column_name=function(){const e=t.cwrap("sqlite3_column_name",...decl("nn:s"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_names=function(t){const n=[],r=e.column_count(t);for(let i=0;i<r;++i)n.push(e.column_name(t,i));return n},e.column_text=function(){const e=t.cwrap("sqlite3_column_text",...decl("nn:s"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.column_type=function(){const e=t.cwrap("sqlite3_column_type",...decl("nn:n"));return function(t,n){verifyStatement(t);return e(t,n)}}(),e.create_function=function(e,n,r,i,o,l,_,f){if(verifyDatabase(e),l&&!_&&!f){return check("sqlite3_create_function",t.createFunction(e,n,r,i,o,l),e)}if(!l&&_&&f){return check("sqlite3_create_function",t.createAggregate(e,n,r,i,o,_,f),e)}throw new SQLiteError("invalid function combination",s)},e.create_module=function(e,n,r,i){verifyDatabase(e);return check("sqlite3_create_module",t.createModule(e,n,r,i),e)},e.data_count=function(){const e=t.cwrap("sqlite3_data_count",...decl("n:n"));return function(t){verifyStatement(t);return e(t)}}(),e.declare_vtab=function(){const e=t.cwrap("sqlite3_declare_vtab",...decl("ns:n"));return function(t,n){return check("sqlite3_declare_vtab",e(t,n))}}(),e.exec=async function(t,n,r){for await(const i of e.statements(t,n)){let t;for(;await e.step(i)===f;)if(r){t=t??e.column_names(i);const n=e.row(i);await r(n,t)}}return i},e.run=async function(t,n,r){for await(const i of e.statements(t,n))r&&e.bind_collection(i,r),await e.step(i);return i},e.execWithParams=async function(t,n,r){let i=[];const o=[];for await(const s of e.statements(t,n))for(r&&e.bind_collection(s,r);await e.step(s)===f;){i=0===i.length?e.column_names(s):i;const t=e.row(s);o.push(t)}return{rows:o,columns:i}},e.executeBatch=async function(t,n,r){try{await e.run(t,"BEGIN EXCLUSIVE TRANSACTION",null);for(let i=0;i<n.length;i++){const o=r?r[i]:null;let s;const l=e.str_new(t,n[i]);try{const n=e.str_value(l);s=await e.prepare_v2(t,n),o&&e.bind_collection(s.stmt,o),await e.step(s.stmt)}finally{s?.stmt&&e.finalize(s.stmt),e.str_finish(l)}}return await e.run(t,"COMMIT",null),i}catch(n){await e.run(t,"ROLLBACK",null)}},e.finalize=function(){const e=t.cwrap("sqlite3_finalize",...decl("n:n"),{async:q});return async function(t){if(!Q.has(t))return s;const n=await e(t);Q.get(t);return Q.delete(t),n}}(),e.get_autocommit=function(){const e=t.cwrap("sqlite3_get_autocommit",...decl("n:n"));return function(t){return e(t)}}(),e.libversion=function(){const e=t.cwrap("sqlite3_libversion",...decl(":s"));return function(){return e()}}(),e.libversion_number=function(){const e=t.cwrap("sqlite3_libversion_number",...decl(":n"));return function(){return e()}}(),e.limit=function(){const e=t.cwrap("sqlite3_limit",...decl("nnn:n"));return function(t,n,r){return e(t,n,r)}}(),e.open_v2=function(){const e="sqlite3_open_v2",n=t.cwrap(e,...decl("snnn:n"),{async:q});return async function(r,i,s){i=i||w|m,s=createUTF8(s);const l=await n(r,o[0],i,s),_=t.getValue(o[0],"*");return C.add(_),t._sqlite3_free(s),t.ccall("RegisterExtensionFunctions","void",["number"],[_]),check(e,l),_}}(),e.prepare_v2=function(){const e="sqlite3_prepare_v2",n=t.cwrap(e,...decl("nnnnn:n"),{async:q});return async function(r,i){const s=await n(r,i,-1,o[0],o[1]);check(e,s,r);const l=t.getValue(o[0],"*");return l?(Q.set(l,r),{stmt:l,sql:t.getValue(o[1],"*")}):null}}(),e.progress_handler=function(e,n,r,i){verifyDatabase(e),t.progressHandler(e,n,r,i)},e.reset=function(){const e="sqlite3_reset",n=t.cwrap(e,...decl("n:n"),{async:q});return async function(t){verifyStatement(t);const r=await n(t);return check(e,r,Q.get(t))}}(),e.result=function(t,n){switch(typeof n){case"number":n===(0|n)?e.result_int(t,n):e.result_double(t,n);break;case"string":e.result_text(t,n);break;default:if(n instanceof Uint8Array||Array.isArray(n))e.result_blob(t,n);else if(null===n)e.result_null(t);else{if("bigint"==typeof n)return e.result_int64(t,n);console.warn("unknown result converted to null",n),e.result_null(t)}}},e.result_blob=function(){const e=t.cwrap("sqlite3_result_blob",...decl("nnnn:n"));return function(r,i){const o=i.byteLength??i.length,s=t._sqlite3_malloc(o);t.HEAPU8.subarray(s).set(i),e(r,s,o,n)}}(),e.result_double=function(){const e=t.cwrap("sqlite3_result_double",...decl("nn:n"));return function(t,n){e(t,n)}}(),e.result_int=function(){const e=t.cwrap("sqlite3_result_int",...decl("nn:n"));return function(t,n){e(t,n)}}(),e.result_int64=function(){const e=t.cwrap("sqlite3_result_int64",...decl("nnn:n"));return function(t,n){if(n>N||n<O)return l;const r=n>>32n;e(t,Number(0xffffffffn&n),Number(r))}}(),e.result_null=function(){const e=t.cwrap("sqlite3_result_null",...decl("n:n"));return function(t){e(t)}}(),e.result_text=function(){const e=t.cwrap("sqlite3_result_text",...decl("nnnn:n"));return function(t,r){const i=createUTF8(r);e(t,i,-1,n)}}(),e.row=function(n){const r=[],i=e.data_count(n);for(let o=0;o<i;++o){const i=e.column(n,o);r.push(i?.buffer===t.HEAPU8.buffer?i.slice():i)}return r},e.set_authorizer=function(e,n,r){verifyDatabase(e);return check("sqlite3_set_authorizer",t.setAuthorizer(e,n,r),e)},e.sql=function(){const e=t.cwrap("sqlite3_sql",...decl("n:s"));return function(t){verifyStatement(t);return e(t)}}(),e.statements=function(t,n){return async function*(){const r=e.str_new(t,n);let i={stmt:null,sql:e.str_value(r)};try{for(;i=await e.prepare_v2(t,i.sql);)yield i.stmt,e.finalize(i.stmt),i.stmt=null}finally{i?.stmt&&e.finalize(i.stmt),e.str_finish(r)}}()},e.step=function(){const e="sqlite3_step",n=t.cwrap(e,...decl("n:n"),{async:q});return async function(t){verifyStatement(t);const r=await n(t);return check(e,r,Q.get(t),[f,E])}}();let x=0;const k=new Map;function check(e,n,r=null,o=[i]){if(o.includes(n))return n;const s=r?t.ccall("sqlite3_errmsg","string",["number"],[r]):e;throw new SQLiteError(s,n)}return e.str_new=function(e,n=""){const r=t.lengthBytesUTF8(n),i=4294967295&x++,o={offset:t._sqlite3_malloc(r+1),bytes:r};return k.set(i,o),t.stringToUTF8(n,o.offset,o.bytes+1),i},e.str_appendall=function(e,n){if(!k.has(e))throw new SQLiteError("not a string",s);const r=k.get(e),i=t.lengthBytesUTF8(n),o=r.bytes+i,l=t._sqlite3_malloc(o+1);t.HEAPU8.subarray(l,l+o+1).set(t.HEAPU8.subarray(r.offset,r.offset+r.bytes)),t.stringToUTF8(n,l+r.bytes,i+1),t._sqlite3_free(r.offset),r.offset=l,r.bytes=o,k.set(e,r)},e.str_finish=function(e){if(!k.has(e))throw new SQLiteError("not a string",s);const n=k.get(e);k.delete(e),t._sqlite3_free(n.offset)},e.str_value=function(t){if(!k.has(t))throw new SQLiteError("not a string",s);return k.get(t).offset},e.update_hook=function(e,n){return verifyDatabase(e),t.updateHook(e,n),i},e.user_data=function(e){return t.getFunctionUserData(e)},e.value=function(n){const r=e.value_type(n);switch(r){case L:return e.value_blob(n);case g:return e.value_double(n);case y:const i=e.value_int(n),o=t.getTempRet0();return p(i,o);case A:return null;case v:return e.value_text(n);default:throw new SQLiteError("unknown type",r)}},e.value_blob=function(){const n=t.cwrap("sqlite3_value_blob",...decl("n:n"));return function(r){const i=e.value_bytes(r),o=n(r);return t.HEAPU8.subarray(o,o+i)}}(),e.value_bytes=function(){const e=t.cwrap("sqlite3_value_bytes",...decl("n:n"));return function(t){return e(t)}}(),e.value_double=function(){const e=t.cwrap("sqlite3_value_double",...decl("n:n"));return function(t){return e(t)}}(),e.value_int=function(){const e=t.cwrap("sqlite3_value_int64",...decl("n:n"));return function(t){return e(t)}}(),e.value_int64=function(){const e=t.cwrap("sqlite3_value_int64",...decl("n:n"));return function(n){return cvt32x2ToBigInt(e(n),t.getTempRet0())}}(),e.value_text=function(){const e=t.cwrap("sqlite3_value_text",...decl("n:s"));return function(t){return e(t)}}(),e.value_type=function(){const e=t.cwrap("sqlite3_value_type",...decl("n:n"));return function(t){return e(t)}}(),e.vfs_register=function(e,n){return check("sqlite3_vfs_register",t.registerVFS(e,n))},e}function decl(t){const e=[],n=t.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":e.push("number");break;case"s":e.push("string");break;case"v":e.push(null)}const r=[];for(let t of n[1])switch(t){case"n":r.push("number");break;case"s":r.push("string")}return e.push(r),e}class Base{mxPathName=64;xClose(t){return o}xRead(t,e,n){return o}xWrite(t,e,n){return o}xTruncate(t,e){return o}xSync(t,e){return i}xFileSize(t,e){return o}xLock(t,e){return i}xUnlock(t,e){return i}xCheckReservedLock(t,e){return e.setInt32(0,0,!0),i}xFileControl(t,e,n){return 12}xSectorSize(t){return 512}xDeviceCharacteristics(t){return 0}xOpen(t,e,n,r){return 14}xDelete(t,e){return o}xAccess(t,e,n){return o}handleAsync(t){return t()}}[256,2048,512,4096,1024,8192,16384].reduce(((t,e)=>t|e));class WebLocksBase{get state(){return this.#t}#t=0;timeoutMillis=0;#e=new Map;#n=Promise.resolve(0);async lock(t){return this.#r(this.#i,t)}async unlock(t){return this.#r(this.#o,t)}async isSomewhereReserved(){throw new Error("unimplemented")}async#r(t,e){const n=7&e;try{const call=()=>t.call(this,n);return await(this.#n=this.#n.then(call,call)),this.#t=n,i}catch(t){return"AbortError"===t.name?5:(console.error(t),3850)}}async#i(t){if(t===this.#t)return i;switch(this.#t){case 0:if(1===t)return this._NONEtoSHARED();throw new Error(`unexpected transition ${this.#t} -> ${t}`);case 1:switch(t){case 2:return this._SHAREDtoRESERVED();case 4:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${this.#t} -> ${t}`)}case 2:if(4===t)return this._RESERVEDtoEXCLUSIVE();throw new Error(`unexpected transition ${this.#t} -> ${t}`);default:throw new Error(`unexpected transition ${this.#t} -> ${t}`)}}async#o(t){if(t===this.#t)return i;switch(this.#t){case 4:switch(t){case 1:return this._EXCLUSIVEtoSHARED();case 0:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${t}`)}case 2:switch(t){case 1:return this._RESERVEDtoSHARED();case 0:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${t}`)}case 1:if(0===t)return this._SHAREDtoNONE();throw new Error(`unexpected transition ${this.#t} -> ${t}`);default:throw new Error(`unexpected transition ${this.#t} -> ${t}`)}}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(t,e){return new Promise((async(n,r)=>{try{await navigator.locks.request(t,e,(e=>{if(n(e),e)return new Promise((e=>this.#e.set(t,e)))}))}catch(t){r(t)}}))}_releaseWebLock(t){this.#e.get(t)?.(),this.#e.delete(t)}async _pollWebLock(t){const e=await navigator.locks.query();return e.held.find((({name:e})=>e===t))?.mode}_getTimeoutSignal(){if(this.timeoutMillis){const t=new AbortController;return setTimeout((()=>t.abort()),this.timeoutMillis),t.signal}}}class WebLocksExclusive extends WebLocksBase{constructor(t){super(),this._lockName=t+"-outer",this._reservedName=t+"-reserved"}async isSomewhereReserved(){return"exclusive"===await this._pollWebLock(this._reservedName)}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}let C=0;const Q=new WeakMap;class IDBContext{#a;#c;#s;#u=null;#l=0;#_=Promise.resolve();#f=Promise.resolve();constructor(t,e={durability:"default"}){this.#c=Promise.resolve(t).then((t=>this.#a=t)),this.#s=e}async close(){const t=this.#a??await this.#c;await this.#_,await this.sync(),t.close()}async run(t,e){const n=this.#_.then((()=>this.#b(t,e)));return this.#_=n.catch((()=>{})),n}async#b(t,e){const n=this.#a??await this.#c;if("readwrite"===t&&"readonly"===this.#u?.mode)this.#u=null;else if(performance.now()-this.#l>5e3){try{this.#u?.commit()}catch(t){if("InvalidStateError"!==t.name)throw t}await new Promise((t=>setTimeout(t))),this.#u=null}for(let r=0;r<2;++r){if(!this.#u){this.#u=n.transaction(n.objectStoreNames,t,this.#s);const e=this.#l=performance.now();this.#f=this.#f.then((()=>new Promise(((t,n)=>{this.#u.addEventListener("complete",(e=>{t(),this.#u===e.target&&(this.#u=null),Q.get(e.target)})),this.#u.addEventListener("abort",(t=>{console.warn("tx abort",(performance.now()-e)/1e3);const r=t.target.error;n(r),this.#u===t.target&&(this.#u=null),Q.get(t.target)}))})))),Q.set(this.#u,C++)}try{const t=Object.fromEntries(Array.from(n.objectStoreNames,(t=>[t,new ObjectStore(this.#u.objectStore(t))])));return await e(t)}catch(t){if(this.#u=null,r)throw t}}}async sync(){await this.#_,await this.#f,this.#f=Promise.resolve()}}function wrapRequest(t){return new Promise(((e,n)=>{t.addEventListener("success",(()=>e(t.result))),t.addEventListener("error",(()=>n(t.error)))}))}class ObjectStore{#d;constructor(t){this.#d=t}get(t){this.#d.name;return wrapRequest(this.#d.get(t))}getAll(t,e){this.#d.name;return wrapRequest(this.#d.getAll(t,e))}getKey(t){this.#d.name;return wrapRequest(this.#d.getKey(t))}getAllKeys(t,e){this.#d.name;return wrapRequest(this.#d.getAllKeys(t,e))}put(t,e){this.#d.name;return wrapRequest(this.#d.put(t,e))}delete(t){this.#d.name;return wrapRequest(this.#d.delete(t))}clear(){this.#d.name;return wrapRequest(this.#d.clear())}index(t){return new Index(this.#d.index(t))}}class Index{#h;constructor(t){this.#h=t}getAllKeys(t,e){this.#h.objectStore.name,this.#h.name;return wrapRequest(this.#h.getAllKeys(t,e))}}const x={durability:"default",purge:"deferred",purgeAtLeast:16};class IDBBatchAtomicVFS extends Base{#E;#m=new Map;#w;#p=new Set;#T=performance.now();#S=new Set;constructor(t="wa-sqlite",e=x){super(),this.name=t,this.#E=Object.assign({},x,e),this.#w=new IDBContext(function openDatabase(t){return new Promise(((e,n)=>{const r=globalThis.indexedDB.open(t,5);r.addEventListener("upgradeneeded",(function(){r.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])})),r.addEventListener("success",(()=>{e(r.result)})),r.addEventListener("error",(()=>{n(r.error)}))}))}(t),{durability:this.#E.durability})}async close(){for(const t of this.#m.keys())await this.xClose(t);await(this.#w?.close()),this.#w=null}xOpen(t,e,n,r){return this.handleAsync((async()=>{null===t&&(t=`null_${e}`),e.toString(16),n.toString(16);try{const o=new URL(t,"http://localhost/"),s={path:o.pathname,flags:n,block0:null,isMetadataChanged:!0,locks:new WebLocksExclusive(o.pathname)};return this.#m.set(e,s),await this.#w.run("readwrite",(async({blocks:t})=>{if(s.block0=await t.get(this.#y(s,0)),!s.block0){if(!(n&w))throw new Error(`file not found: ${s.path}`);s.block0={path:s.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},t.put(s.block0)}})),r.setInt32(0,1&n,!0),i}catch(t){return console.error(t),14}}))}xClose(t){return this.handleAsync((async()=>{try{const e=this.#m.get(t);return e&&(e.path,this.#m.delete(t),8&e.flags&&this.#w.run("readwrite",(({blocks:t})=>{t.delete(IDBKeyRange.bound([e.path],[e.path,[]]))}))),i}catch(t){return console.error(t),o}}))}xRead(t,e,n){return this.handleAsync((async()=>{const r=this.#m.get(t);r.path,e.byteLength;try{return await this.#w.run("readonly",(async({blocks:t})=>{let o=0;for(;o<e.byteLength;){const i=n+o,s=i<r.block0.data.byteLength?r.block0:await t.get(this.#y(r,-i));if(!s||s.data.byteLength-s.offset<=i)return e.fill(0,o),522;const l=e.subarray(o),_=i+s.offset,f=Math.min(Math.max(s.data.byteLength-_,0),l.byteLength);l.set(s.data.subarray(_,_+f)),o+=f}return i}))}catch(t){return console.error(t),o}}))}xWrite(t,e,n){const r=this.#S.has(t);if(r||performance.now()-this.#T>3e3){const i=this.handleAsync((async()=>{this.handleAsync!==super.handleAsync&&this.#S.add(t),await new Promise((t=>setTimeout(t)));const r=this.#I(t,e,n);return this.#T=performance.now(),r}));return r&&this.#S.delete(t),i}return this.#I(t,e,n)}#I(t,e,n){const r=this.#m.get(t);r.path,e.byteLength;try{const t=r.block0.fileSize;r.block0.fileSize<n+e.byteLength&&(r.block0.fileSize=n+e.byteLength,r.isMetadataChanged=!0);const o=0===n?r.block0:{path:r.path,offset:-n,version:r.block0.version,data:null};return o.data=e.slice(),r.changedPages?(t===r.block0.fileSize&&r.changedPages.add(-n),0!==n&&this.#w.run("readwrite",(({blocks:t})=>t.put(o)))):this.#w.run("readwrite",(({blocks:t})=>t.put(o))),r.isMetadataChanged=0!==n&&r.isMetadataChanged,i}catch(t){return console.error(t),o}}xTruncate(t,e){const n=this.#m.get(t);n.path;try{Object.assign(n.block0,{fileSize:e,data:n.block0.data.slice(0,e)});const t=Object.assign({},n.block0);return this.#w.run("readwrite",(({blocks:r})=>{r.delete(this.#y(n,-1/0,-e)),r.put(t)})),i}catch(t){return console.error(t),o}}xSync(t,e){const n=this.#S.has(t);if(n||"relaxed"!==this.#E.durability||performance.now()-this.#T>3e3){const r=this.handleAsync((async()=>{this.handleAsync!==super.handleAsync&&this.#S.add(t);const n=await this.#g(t,e);return this.#T=performance.now(),n}));return n&&this.#S.delete(t),r}return this.#m.get(t).path,i}async#g(t,e){const n=this.#m.get(t);n.path;try{n.isMetadataChanged&&(this.#w.run("readwrite",(async({blocks:t})=>{await t.put(n.block0)})),n.isMetadataChanged=!1),await this.#w.sync()}catch(t){return console.error(t),o}return i}xFileSize(t,e){const n=this.#m.get(t);return n.path,e.setBigInt64(0,BigInt(n.block0.fileSize),!0),i}xLock(t,e){return this.handleAsync((async()=>{const n=this.#m.get(t);n.path;try{const t=await n.locks.lock(e);return t===i&&1===n.locks.state&&(n.block0=await this.#w.run("readonly",(({blocks:t})=>t.get(this.#y(n,0))))),t}catch(t){return console.error(t),o}}))}xUnlock(t,e){return this.handleAsync((async()=>{const n=this.#m.get(t);n.path;try{return n.locks.unlock(e)}catch(t){return console.error(t),o}}))}xCheckReservedLock(t,e){return this.handleAsync((async()=>{const n=this.#m.get(t);n.path;const r=await n.locks.isSomewhereReserved();return e.setInt32(0,r?1:0,!0),i}))}xSectorSize(t){return 512}xDeviceCharacteristics(t){return 19968}xFileControl(t,e,n){const r=this.#m.get(t);switch(r.path,e){case 11:return r.overwrite=!0,i;case 21:if(r.overwrite)try{return this.handleAsync((async()=>(await this.#v(r),i)))}catch(t){return console.error(t),o}if(r.isMetadataChanged)try{this.#w.run("readwrite",(async({blocks:t})=>{await t.put(r.block0)})),r.isMetadataChanged=!1}catch(t){return console.error(t),o}return i;case 22:return r.overwrite=!1,i;case 31:return this.handleAsync((async()=>{try{return r.block0.version--,r.changedPages=new Set,this.#w.run("readwrite",(async({blocks:t})=>{const e=await t.index("version").getAllKeys(IDBKeyRange.bound([r.path],[r.path,r.block0.version]));for(const n of e)t.delete(n)})),i}catch(t){return console.error(t),o}}));case 32:try{const t=Object.assign({},r.block0);t.data=t.data.slice();const e=r.changedPages;return r.changedPages=null,r.isMetadataChanged=!1,this.#w.run("readwrite",(async({blocks:n})=>{n.put(t);const i=await n.get([r.path,"purge",0])??{path:r.path,offset:"purge",version:0,data:new Map,count:0};i.count+=e.size;for(const n of e)i.data.set(n,t.version);n.put(i),this.#L(r.path,i.count)})),i}catch(t){return console.error(t),o}case 33:return this.handleAsync((async()=>{try{return r.changedPages=null,r.isMetadataChanged=!1,r.block0=await this.#w.run("readonly",(({blocks:t})=>t.get([r.path,0,r.block0.version+1]))),i}catch(t){return console.error(t),o}}));default:return 12}}xAccess(t,e,n){return this.handleAsync((async()=>{try{const e=new URL(t,"file://localhost/").pathname,r=await this.#w.run("readonly",(({blocks:t})=>t.getKey(this.#y({path:e},0))));return n.setInt32(0,r?1:0,!0),i}catch(t){return console.error(t),o}}))}xDelete(t,e){return this.handleAsync((async()=>{const n=new URL(t,"file://localhost/").pathname;try{return this.#w.run("readwrite",(({blocks:t})=>t.delete(IDBKeyRange.bound([n],[n,[]])))),e&&await this.#w.sync(),i}catch(t){return console.error(t),o}}))}async purge(t){Date.now();await this.#w.run("readwrite",(async({blocks:e})=>{const n=await e.get([t,"purge",0]);if(n){for(const[r,i]of n.data)e.delete(IDBKeyRange.bound([t,r,i],[t,r,1/0],!0,!1));await e.delete([t,"purge",0])}n?.data.size,Date.now()}))}#L(t,e){"manual"===this.#E.purge||this.#p.has(t)||e<this.#E.purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback((()=>{this.purge(t),this.#p.delete(t)})):setTimeout((()=>{this.purge(t),this.#p.delete(t)})),this.#p.add(t))}#y(t,e,n=0){const r=!e||-e<t.block0.data.length?-1/0:t.block0.version;return IDBKeyRange.bound([t.path,e,r],[t.path,n,1/0])}async#v(t){const e=t.block0.data.length;if(e<18)return;const n=new DataView(t.block0.data.buffer,t.block0.data.byteOffset);let r=n.getUint16(16);if(1===r&&(r=65536),r===e)return;const i=Math.max(e,r),o=i/e,s=i/r,l=n.getUint32(28)*r,_=t.block0.version;await this.#w.run("readwrite",(async({blocks:e})=>{const n=await e.index("version").getAllKeys(IDBKeyRange.bound([t.path,_+1],[t.path,1/0]));for(const t of n)e.delete(t);e.delete([t.path,"purge",0]);for(let n=0;n<l;n+=i){const f=await e.getAll(IDBKeyRange.lowerBound([t.path,-(n+i),1/0]),o);for(const t of f)e.delete([t.path,t.offset,t.version]);if(1===s){const i=new Uint8Array(r);for(const t of f)i.set(t.data,-(n+t.offset));const o={path:t.path,offset:-n,version:_,data:i};0===o.offset&&(o.fileSize=l,t.block0=o),e.put(o)}else{const i=f[0];for(let o=0;o<s;++o){const s=-(n+o*r);if(-s>=l)break;const f={path:i.path,offset:s,version:_,data:i.data.subarray(o*r,(o+1)*r)};0===f.offset&&(f.fileSize=l,t.block0=f),e.put(f)}}}}))}}function resultToRow(t,e){let n=0,r={};for(;n<e.length;)r[t[n]]=e[n],n++;return r}__webpack_require__(870),window.sqlite={sqlite3:null,dotNetRef:null,test:function(){console.log("Junk"),async function hello(){return await async function open2(){const t=Factory(await r());t.vfs_register(new IDBBatchAtomicVFS("dbName"));return await t.open_v2("myAppName",w|m|p,"dbName")}()}()},open:async function(t,e){const n=Factory(await r());n.vfs_register(new IDBBatchAtomicVFS(e));const i=await n.open_v2(t,w|m|p,e);return sqlite.sqlite3=n,i},close:async function(t){return await sqlite.sqlite3.close(t)},execute:async function(t,e,n=null){let r={changes:0,response:null,data:"",error:""};for await(const o of sqlite.sqlite3.statements(t,e)){if(null!=n){if(await sqlite.sqlite3.bind_collection(o,n)!=i)return console.error("unable to prepare"),r.error="Unable to Prepare statement. Check your syntax or parameters",r}let e;console.log("Sql: "+sqlite.sqlite3.sql(o));try{for(;await sqlite.sqlite3.step(o)===f;)e=e??sqlite.sqlite3.column_names(o),r.response=response,r.changes=sqlite.sqlite3.changes(t)}catch(t){console.log(t.message),r.error=t.message}}return r},query:async function(t,e,n=null){let r={data:[],error:""};try{for await(const o of sqlite.sqlite3.statements(t,e)){if(null!=n){if(await sqlite.sqlite3.bind_collection(o,n)!=i)return console.error("unable to prepare"),null}try{let t;for(;await sqlite.sqlite3.step(o)===f;){t=t??sqlite.sqlite3.column_names(o);const e=sqlite.sqlite3.row(o);r.data.push(resultToRow(t,e))}}catch(t){r.error=t.message,console.log("Query Error: "+t.message)}}}catch(t){return console.log("Query Error when preparing statements: "+t.message),r.error=t.message,r}return r}},window.sqliteWasm={}.default})();
//# sourceMappingURL=sqlite.min.js.map